2025-05-14T14:29:59.506+09:00  INFO 23271 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 23271 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T14:29:59.509+09:00  INFO 23271 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T14:29:59.894+09:00  INFO 23271 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T14:29:59.912+09:00  INFO 23271 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-05-14T14:29:59.997+09:00  INFO 23271 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6507a73-c32c-3fa2-b2f1-7712827dcb2a
2025-05-14T14:30:00.324+09:00  INFO 23271 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T14:30:00.331+09:00  INFO 23271 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T14:30:00.332+09:00  INFO 23271 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T14:30:00.357+09:00  INFO 23271 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T14:30:00.357+09:00  INFO 23271 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 812 ms
2025-05-14T14:30:00.451+09:00  INFO 23271 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T14:30:00.776+09:00  INFO 23271 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@134abd78
2025-05-14T14:30:00.777+09:00  INFO 23271 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T14:30:00.807+09:00  INFO 23271 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T14:30:00.834+09:00  INFO 23271 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T14:30:00.853+09:00  INFO 23271 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T14:30:00.997+09:00  INFO 23271 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T14:30:01.092+09:00  INFO 23271 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T14:30:01.265+09:00  INFO 23271 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T14:30:01.268+09:00  INFO 23271 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T14:30:01.315+09:00  WARN 23271 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T14:30:01.694+09:00  INFO 23271 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T14:30:01.718+09:00  WARN 23271 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T14:30:01.754+09:00  INFO 23271 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T14:30:01.766+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T14:30:01.768+09:00  INFO 23271 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T14:30:01.772+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T14:30:01.942+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T14:30:01.943+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T14:30:01.944+09:00  INFO 23271 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T14:30:01.945+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747200601945 with initial instances count: 5
2025-05-14T14:30:01.948+09:00  INFO 23271 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T14:30:01.948+09:00  INFO 23271 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747200601948, current=UP, previous=STARTING]
2025-05-14T14:30:01.949+09:00  INFO 23271 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T14:30:01.958+09:00  INFO 23271 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T14:30:01.958+09:00  INFO 23271 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T14:30:01.978+09:00  INFO 23271 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T14:30:01.981+09:00  INFO 23271 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 3.016 seconds (process running for 3.719)
2025-05-14T14:35:01.774+09:00  INFO 23271 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:40:01.775+09:00  INFO 23271 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:45:01.776+09:00  INFO 23271 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:50:01.777+09:00  INFO 23271 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:52:47.186+09:00  INFO 23271 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T14:52:47.187+09:00  INFO 23271 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T14:52:47.187+09:00  INFO 23271 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-14T14:52:47.925+09:00 ERROR 23271 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 호출 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "model": "gemini-1.5-pro",<EOL>              "location": "global"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "12s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:38) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T14:53:13.623+09:00 ERROR 23271 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : Gemini API 호출 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "model": "gemini-1.5-pro",<EOL>              "location": "global"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "46s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:38) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T14:55:01.756+09:00 ERROR 23271 --- [analysis-service] [http-nio-10261-exec-4] c.n.w.adaptor.GeminiApiClient            : Gemini API 호출 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "model": "gemini-1.5-pro",<EOL>              "location": "global"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "model": "gemini-1.5-pro",<EOL>              "location": "global"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "58s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:38) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T14:55:01.777+09:00  INFO 23271 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:55:13.807+09:00 ERROR 23271 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : Gemini API 호출 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "model": "gemini-1.5-pro",<EOL>              "location": "global"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "46s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:38) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T14:57:09.159+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T14:57:09.160+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747202229160, current=DOWN, previous=UP]
2025-05-14T14:57:09.160+09:00  INFO 23271 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T14:57:09.161+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T14:57:09.163+09:00  INFO 23271 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T14:57:09.167+09:00  INFO 23271 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T14:57:09.168+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T14:57:09.170+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T14:57:09.316+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T14:57:09.317+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T14:57:12.318+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T14:57:12.322+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T14:57:12.322+09:00  INFO 23271 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T14:57:15.184+09:00  INFO 28119 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 28119 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T14:57:15.185+09:00  INFO 28119 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T14:57:15.562+09:00  INFO 28119 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T14:57:15.573+09:00  INFO 28119 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-14T14:57:15.652+09:00  INFO 28119 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6507a73-c32c-3fa2-b2f1-7712827dcb2a
2025-05-14T14:57:15.959+09:00  INFO 28119 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T14:57:15.966+09:00  INFO 28119 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T14:57:15.967+09:00  INFO 28119 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T14:57:15.999+09:00  INFO 28119 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T14:57:16.000+09:00  INFO 28119 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 797 ms
2025-05-14T14:57:16.076+09:00  INFO 28119 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T14:57:16.366+09:00  INFO 28119 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3dbb3fb7
2025-05-14T14:57:16.367+09:00  INFO 28119 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T14:57:16.386+09:00  INFO 28119 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T14:57:16.408+09:00  INFO 28119 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T14:57:16.423+09:00  INFO 28119 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T14:57:16.544+09:00  INFO 28119 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T14:57:16.632+09:00  INFO 28119 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T14:57:16.782+09:00  INFO 28119 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T14:57:16.784+09:00  INFO 28119 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T14:57:16.825+09:00  WARN 28119 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T14:57:17.166+09:00  INFO 28119 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T14:57:17.192+09:00  WARN 28119 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T14:57:17.233+09:00  INFO 28119 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T14:57:17.248+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T14:57:17.250+09:00  INFO 28119 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T14:57:17.254+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T14:57:17.419+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T14:57:17.420+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T14:57:17.421+09:00  INFO 28119 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T14:57:17.422+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747202237422 with initial instances count: 6
2025-05-14T14:57:17.425+09:00  INFO 28119 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T14:57:17.425+09:00  INFO 28119 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747202237425, current=UP, previous=STARTING]
2025-05-14T14:57:17.426+09:00  INFO 28119 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T14:57:17.433+09:00  INFO 28119 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T14:57:17.434+09:00  INFO 28119 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T14:57:17.455+09:00  INFO 28119 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T14:57:17.456+09:00  INFO 28119 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 2.528 seconds (process running for 3.011)
2025-05-14T14:57:54.952+09:00  INFO 28119 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T14:57:54.952+09:00  INFO 28119 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T14:57:54.953+09:00  INFO 28119 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T14:57:59.450+09:00 ERROR 28119 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : 최대 재시도 횟수 초과

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "0s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:43) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T14:59:38.919+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T14:59:38.919+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747202378919, current=DOWN, previous=UP]
2025-05-14T14:59:38.920+09:00  INFO 28119 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T14:59:38.921+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T14:59:38.923+09:00  INFO 28119 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T14:59:38.925+09:00  INFO 28119 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T14:59:38.928+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T14:59:38.930+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T14:59:39.070+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T14:59:39.071+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T14:59:42.071+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T14:59:42.076+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T14:59:42.077+09:00  INFO 28119 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T14:59:44.565+09:00  INFO 28842 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 28842 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T14:59:44.567+09:00  INFO 28842 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T14:59:45.178+09:00  INFO 28842 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T14:59:45.201+09:00  INFO 28842 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2025-05-14T14:59:45.437+09:00  INFO 28842 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6507a73-c32c-3fa2-b2f1-7712827dcb2a
2025-05-14T14:59:46.446+09:00  INFO 28842 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T14:59:46.468+09:00  INFO 28842 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T14:59:46.469+09:00  INFO 28842 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T14:59:46.570+09:00  INFO 28842 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T14:59:46.571+09:00  INFO 28842 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1975 ms
2025-05-14T14:59:46.787+09:00  INFO 28842 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T14:59:47.308+09:00  INFO 28842 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7c0de229
2025-05-14T14:59:47.311+09:00  INFO 28842 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T14:59:47.368+09:00  INFO 28842 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T14:59:47.425+09:00  INFO 28842 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T14:59:47.457+09:00  INFO 28842 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T14:59:47.712+09:00  INFO 28842 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T14:59:47.841+09:00  INFO 28842 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T14:59:48.211+09:00  INFO 28842 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T14:59:48.218+09:00  INFO 28842 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T14:59:48.319+09:00  WARN 28842 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T14:59:49.012+09:00  INFO 28842 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T14:59:49.061+09:00  WARN 28842 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T14:59:49.141+09:00  INFO 28842 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T14:59:49.167+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T14:59:49.172+09:00  INFO 28842 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T14:59:49.182+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T14:59:49.182+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T14:59:49.182+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T14:59:49.182+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T14:59:49.182+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T14:59:49.182+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T14:59:49.183+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T14:59:49.472+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T14:59:49.474+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T14:59:49.476+09:00  INFO 28842 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T14:59:49.478+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747202389477 with initial instances count: 6
2025-05-14T14:59:49.481+09:00  INFO 28842 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T14:59:49.482+09:00  INFO 28842 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747202389482, current=UP, previous=STARTING]
2025-05-14T14:59:49.483+09:00  INFO 28842 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T14:59:49.492+09:00  INFO 28842 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T14:59:49.493+09:00  INFO 28842 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T14:59:49.511+09:00  INFO 28842 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T14:59:49.518+09:00  INFO 28842 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 5.261 seconds (process running for 5.656)
2025-05-14T14:59:59.094+09:00  INFO 28842 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T14:59:59.095+09:00  INFO 28842 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T14:59:59.096+09:00  INFO 28842 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T15:00:00.426+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 1회차 재시도 중...
2025-05-14T15:00:01.723+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 2회차 재시도 중...
2025-05-14T15:00:04.036+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 3회차 재시도 중...
2025-05-14T15:00:04.036+09:00 ERROR 28842 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : 요청량 초과로 재시도 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "56s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:52) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T15:04:49.185+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:09:49.185+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:15:22.258+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:20:22.261+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:25:22.262+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:30:22.263+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:35:22.265+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:40:22.267+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:40:35.630+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-05-14T15:45:22.268+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:50:22.674+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T15:55:22.675+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:00:22.677+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:05:22.678+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:10:22.680+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:15:22.682+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:20:22.684+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:25:22.686+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:46:41.760+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:51:41.762+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T16:56:41.762+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:01:41.763+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:06:41.764+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:11:41.765+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:16:41.766+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:21:41.767+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:26:41.767+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:31:14.453+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 1회차 재시도 중...
2025-05-14T17:31:15.736+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 2회차 재시도 중...
2025-05-14T17:31:18.007+09:00  WARN 28842 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 3회차 재시도 중...
2025-05-14T17:31:18.007+09:00 ERROR 28842 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : 요청량 초과로 재시도 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "model": "gemini-1.5-pro",<EOL>              "location": "global"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "42s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:52) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T17:31:41.768+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:36:41.769+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:41:41.769+09:00  INFO 28842 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:42:43.601+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T17:42:43.602+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747212163602, current=DOWN, previous=UP]
2025-05-14T17:42:43.602+09:00  INFO 28842 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T17:42:43.604+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T17:42:43.606+09:00  INFO 28842 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T17:42:43.611+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T17:42:43.613+09:00  INFO 28842 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T17:42:43.613+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T17:42:44.193+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T17:42:44.193+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T17:42:47.193+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T17:42:47.194+09:00  WARN 28842 --- [analysis-service] [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-05-14T17:42:47.196+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T17:42:47.196+09:00  INFO 28842 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T17:42:52.907+09:00  INFO 37819 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 37819 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T17:42:52.908+09:00  INFO 37819 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T17:42:53.297+09:00  INFO 37819 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T17:42:53.309+09:00  INFO 37819 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-14T17:42:53.412+09:00  INFO 37819 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6507a73-c32c-3fa2-b2f1-7712827dcb2a
2025-05-14T17:42:53.700+09:00  INFO 37819 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T17:42:53.708+09:00  INFO 37819 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T17:42:53.708+09:00  INFO 37819 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T17:42:53.733+09:00  INFO 37819 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T17:42:53.733+09:00  INFO 37819 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 805 ms
2025-05-14T17:42:53.873+09:00  INFO 37819 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T17:42:55.076+09:00  INFO 37819 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c7ad4f3
2025-05-14T17:42:55.077+09:00  INFO 37819 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T17:42:55.111+09:00  INFO 37819 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T17:42:55.147+09:00  INFO 37819 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T17:42:55.176+09:00  INFO 37819 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T17:42:55.318+09:00  INFO 37819 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T17:42:55.830+09:00  INFO 37819 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T17:42:55.981+09:00  INFO 37819 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T17:42:55.983+09:00  INFO 37819 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T17:42:56.028+09:00  WARN 37819 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T17:42:57.154+09:00  INFO 37819 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T17:42:57.179+09:00  WARN 37819 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T17:42:57.217+09:00  INFO 37819 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T17:42:57.227+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T17:42:57.229+09:00  INFO 37819 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:42:57.233+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T17:42:57.234+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T17:42:57.234+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T17:42:57.234+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T17:42:57.234+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T17:42:57.234+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T17:42:57.234+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T17:42:57.400+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T17:42:57.401+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T17:42:57.402+09:00  INFO 37819 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T17:42:57.403+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747212177402 with initial instances count: 5
2025-05-14T17:42:57.405+09:00  INFO 37819 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T17:42:57.405+09:00  INFO 37819 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747212177405, current=UP, previous=STARTING]
2025-05-14T17:42:57.406+09:00  INFO 37819 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/localhost:analysis-service:10261: registering service...
2025-05-14T17:42:57.413+09:00  INFO 37819 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T17:42:57.414+09:00  INFO 37819 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T17:42:57.437+09:00  INFO 37819 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/localhost:analysis-service:10261 - registration status: 204
2025-05-14T17:42:58.064+09:00  INFO 37819 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 6.459 seconds (process running for 7.055)
2025-05-14T17:44:08.111+09:00  INFO 37819 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T17:44:08.111+09:00  INFO 37819 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T17:44:08.112+09:00  INFO 37819 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T17:44:08.876+09:00  WARN 37819 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 1회차 재시도 중...
2025-05-14T17:44:09.945+09:00  WARN 37819 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 1회차 재시도 중...
2025-05-14T17:44:10.551+09:00  WARN 37819 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 2회차 재시도 중...
2025-05-14T17:44:11.212+09:00  WARN 37819 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 2회차 재시도 중...
2025-05-14T17:44:12.810+09:00  WARN 37819 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 3회차 재시도 중...
2025-05-14T17:44:14.732+09:00  WARN 37819 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 3회차 재시도 중...
2025-05-14T17:44:15.811+09:00 ERROR 37819 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : 요청량 초과로 재시도 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "47s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:53) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T17:44:17.733+09:00 ERROR 37819 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : 요청량 초과로 재시도 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "45s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:53) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T17:46:24.570+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T17:46:24.571+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747212384571, current=DOWN, previous=UP]
2025-05-14T17:46:24.571+09:00  INFO 37819 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/localhost:analysis-service:10261: registering service...
2025-05-14T17:46:24.573+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T17:46:24.574+09:00  INFO 37819 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T17:46:24.575+09:00  INFO 37819 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/localhost:analysis-service:10261 - registration status: 204
2025-05-14T17:46:24.578+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T17:46:24.579+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T17:46:24.731+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T17:46:24.732+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T17:46:27.732+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T17:46:27.732+09:00  WARN 37819 --- [analysis-service] [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-05-14T17:46:27.735+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/localhost:analysis-service:10261 - deregister  status: 200
2025-05-14T17:46:27.735+09:00  INFO 37819 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T17:46:30.015+09:00  INFO 38528 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 38528 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T17:46:30.016+09:00  INFO 38528 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T17:46:30.344+09:00  INFO 38528 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T17:46:30.363+09:00  INFO 38528 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-14T17:46:30.450+09:00  INFO 38528 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f6507a73-c32c-3fa2-b2f1-7712827dcb2a
2025-05-14T17:46:30.752+09:00  INFO 38528 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T17:46:30.760+09:00  INFO 38528 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T17:46:30.760+09:00  INFO 38528 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T17:46:30.783+09:00  INFO 38528 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T17:46:30.784+09:00  INFO 38528 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 750 ms
2025-05-14T17:46:30.862+09:00  INFO 38528 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T17:46:31.371+09:00  INFO 38528 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3dda8a2e
2025-05-14T17:46:31.372+09:00  INFO 38528 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T17:46:31.398+09:00  INFO 38528 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T17:46:31.421+09:00  INFO 38528 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T17:46:31.436+09:00  INFO 38528 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T17:46:31.573+09:00  INFO 38528 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T17:46:31.679+09:00  INFO 38528 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T17:46:31.982+09:00  INFO 38528 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T17:46:31.985+09:00  INFO 38528 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T17:46:32.040+09:00  WARN 38528 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T17:46:32.421+09:00  INFO 38528 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T17:46:32.446+09:00  WARN 38528 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T17:46:32.484+09:00  INFO 38528 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T17:46:32.495+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T17:46:32.497+09:00  INFO 38528 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:46:32.501+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T17:46:32.502+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T17:46:32.502+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T17:46:32.502+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T17:46:32.502+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T17:46:32.502+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T17:46:32.502+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T17:46:32.672+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T17:46:32.673+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T17:46:32.674+09:00  INFO 38528 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T17:46:32.675+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747212392675 with initial instances count: 6
2025-05-14T17:46:32.678+09:00  INFO 38528 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T17:46:32.678+09:00  INFO 38528 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747212392678, current=UP, previous=STARTING]
2025-05-14T17:46:32.679+09:00  INFO 38528 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T17:46:32.686+09:00  INFO 38528 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T17:46:32.687+09:00  INFO 38528 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T17:46:32.704+09:00  INFO 38528 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T17:46:32.704+09:00  INFO 38528 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 2.949 seconds (process running for 3.466)
2025-05-14T17:46:49.646+09:00  INFO 38528 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T17:46:49.646+09:00  INFO 38528 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T17:46:49.647+09:00  INFO 38528 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T17:46:50.785+09:00  WARN 38528 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : Gemini API 요청량 초과: 1회차 재시도 중...
2025-05-14T17:46:51.785+09:00 ERROR 38528 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : 요청량 초과로 재시도 실패

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent": "{<EOL>  "error": {<EOL>    "code": 429,<EOL>    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.",<EOL>    "status": "RESOURCE_EXHAUSTED",<EOL>    "details": [<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.QuotaFailure",<EOL>        "violations": [<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",<EOL>            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          },<EOL>          {<EOL>            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",<EOL>            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",<EOL>            "quotaDimensions": {<EOL>              "location": "global",<EOL>              "model": "gemini-1.5-pro"<EOL>            }<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.Help",<EOL>        "links": [<EOL>          {<EOL>            "description": "Learn more about Gemini API quotas",<EOL>            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"<EOL>          }<EOL>        ]<EOL>      },<EOL>      {<EOL>        "@type": "type.googleapis.com/google.rpc.RetryInfo",<EOL>        "retryDelay": "9s"<EOL>      }<EOL>    ]<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:130) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:53) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.impl.GeminiServiceImpl.analyze(GeminiServiceImpl.java:21) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:28) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T17:51:32.503+09:00  INFO 38528 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T17:56:32.504+09:00  INFO 38528 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:01:32.505+09:00  INFO 38528 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:06:32.506+09:00  INFO 38528 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:11:32.507+09:00  INFO 38528 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:15:21.737+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T18:15:21.738+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747214121738, current=DOWN, previous=UP]
2025-05-14T18:15:21.738+09:00  INFO 38528 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T18:15:21.740+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T18:15:21.742+09:00  INFO 38528 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T18:15:21.746+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T18:15:21.747+09:00  INFO 38528 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T18:15:21.748+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T18:15:21.904+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T18:15:21.905+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T18:15:24.905+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T18:15:24.909+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T18:15:24.910+09:00  INFO 38528 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T18:15:27.654+09:00  INFO 40457 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 40457 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T18:15:27.655+09:00  INFO 40457 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T18:15:28.051+09:00  INFO 40457 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T18:15:28.067+09:00  INFO 40457 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2025-05-14T18:15:28.224+09:00  INFO 40457 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T18:15:28.542+09:00  INFO 40457 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T18:15:28.551+09:00  INFO 40457 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T18:15:28.551+09:00  INFO 40457 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T18:15:28.578+09:00  INFO 40457 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T18:15:28.579+09:00  INFO 40457 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 896 ms
2025-05-14T18:15:28.651+09:00  INFO 40457 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T18:15:28.982+09:00  INFO 40457 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6210666c
2025-05-14T18:15:28.984+09:00  INFO 40457 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T18:15:29.010+09:00  INFO 40457 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T18:15:29.035+09:00  INFO 40457 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T18:15:29.052+09:00  INFO 40457 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T18:15:29.189+09:00  INFO 40457 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T18:15:29.296+09:00  INFO 40457 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T18:15:29.469+09:00  INFO 40457 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T18:15:29.472+09:00  INFO 40457 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T18:15:29.526+09:00  WARN 40457 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T18:15:29.859+09:00  INFO 40457 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T18:15:29.884+09:00  WARN 40457 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T18:15:29.926+09:00  INFO 40457 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T18:15:29.938+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T18:15:29.940+09:00  INFO 40457 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T18:15:29.944+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T18:15:30.122+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T18:15:30.123+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T18:15:30.124+09:00  INFO 40457 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T18:15:30.125+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747214130124 with initial instances count: 6
2025-05-14T18:15:30.127+09:00  INFO 40457 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T18:15:30.128+09:00  INFO 40457 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747214130128, current=UP, previous=STARTING]
2025-05-14T18:15:30.129+09:00  INFO 40457 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T18:15:30.136+09:00  INFO 40457 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T18:15:30.137+09:00  INFO 40457 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T18:15:30.154+09:00  INFO 40457 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T18:15:30.157+09:00  INFO 40457 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 2.834 seconds (process running for 3.326)
2025-05-14T18:16:00.495+09:00  INFO 40457 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T18:16:00.496+09:00  INFO 40457 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T18:16:00.496+09:00  INFO 40457 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-14T18:20:29.949+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:25:29.950+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:30:29.951+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:35:29.952+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:40:29.952+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:45:29.953+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:50:29.954+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T18:55:29.954+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:00:29.955+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:05:29.955+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:10:29.956+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:15:29.957+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:20:29.958+09:00  INFO 40457 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:22:04.461+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T19:22:04.461+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747218124461, current=DOWN, previous=UP]
2025-05-14T19:22:04.462+09:00  INFO 40457 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T19:22:04.464+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T19:22:04.466+09:00  INFO 40457 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T19:22:04.469+09:00  INFO 40457 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T19:22:04.472+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T19:22:04.474+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T19:22:04.628+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T19:22:04.629+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T19:22:07.629+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T19:22:07.633+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T19:22:07.634+09:00  INFO 40457 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T19:22:11.516+09:00  INFO 43255 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 43255 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T19:22:11.519+09:00  INFO 43255 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T19:22:12.319+09:00  INFO 43255 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T19:22:12.334+09:00  INFO 43255 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-05-14T19:22:12.554+09:00  INFO 43255 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T19:22:12.914+09:00  INFO 43255 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T19:22:12.923+09:00  INFO 43255 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T19:22:12.923+09:00  INFO 43255 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T19:22:12.950+09:00  INFO 43255 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T19:22:12.950+09:00  INFO 43255 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1378 ms
2025-05-14T19:22:13.032+09:00  INFO 43255 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T19:22:13.383+09:00  INFO 43255 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46524ebe
2025-05-14T19:22:13.385+09:00  INFO 43255 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T19:22:13.413+09:00  INFO 43255 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T19:22:13.438+09:00  INFO 43255 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T19:22:13.457+09:00  INFO 43255 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T19:22:13.645+09:00  INFO 43255 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T19:22:13.742+09:00  INFO 43255 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T19:22:13.939+09:00  INFO 43255 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T19:22:13.942+09:00  INFO 43255 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T19:22:13.993+09:00  WARN 43255 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T19:22:14.335+09:00  INFO 43255 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T19:22:14.361+09:00  WARN 43255 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T19:22:14.400+09:00  INFO 43255 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T19:22:14.411+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T19:22:14.412+09:00  INFO 43255 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:22:14.416+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T19:22:14.417+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T19:22:14.417+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T19:22:14.417+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T19:22:14.417+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T19:22:14.417+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T19:22:14.417+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T19:22:14.639+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T19:22:14.642+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T19:22:14.644+09:00  INFO 43255 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T19:22:14.646+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747218134645 with initial instances count: 6
2025-05-14T19:22:14.650+09:00  INFO 43255 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T19:22:14.651+09:00  INFO 43255 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747218134651, current=UP, previous=STARTING]
2025-05-14T19:22:14.652+09:00  INFO 43255 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T19:22:14.663+09:00  INFO 43255 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T19:22:14.664+09:00  INFO 43255 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T19:22:14.680+09:00  INFO 43255 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T19:22:14.686+09:00  INFO 43255 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 3.908 seconds (process running for 4.656)
2025-05-14T19:22:27.749+09:00  INFO 43255 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T19:22:27.749+09:00  INFO 43255 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T19:22:27.750+09:00  INFO 43255 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T19:25:28.670+09:00 ERROR 43255 --- [analysis-service] [http-nio-10261-exec-6] c.n.w.adaptor.GeminiApiClient            : Gemini API 호출 실패

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent": "{<EOL>  "error": {<EOL>    "code": 400,<EOL>    "message": "Invalid JSON payload received. Expected , or } after key:value pair.\n\\\", \\\"\\\\\\\\\"\\\"));\n\n  \n^",<EOL>    "status": "INVALID_ARGUMENT"<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:47) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.GeminiServiceImpl.analyze(GeminiServiceImpl.java:17) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:19) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T19:27:14.418+09:00  INFO 43255 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:27:35.944+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T19:27:35.944+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747218455944, current=DOWN, previous=UP]
2025-05-14T19:27:35.944+09:00  INFO 43255 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T19:27:35.946+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T19:27:35.948+09:00  INFO 43255 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T19:27:35.949+09:00  INFO 43255 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T19:27:35.952+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T19:27:35.953+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T19:27:36.092+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T19:27:36.093+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T19:27:39.094+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T19:27:39.099+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T19:27:39.099+09:00  INFO 43255 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T19:27:41.725+09:00  INFO 44179 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 44179 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T19:27:41.727+09:00  INFO 44179 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T19:27:42.091+09:00  INFO 44179 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T19:27:42.104+09:00  INFO 44179 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-14T19:27:42.255+09:00  INFO 44179 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T19:27:42.564+09:00  INFO 44179 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T19:27:42.577+09:00  INFO 44179 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T19:27:42.577+09:00  INFO 44179 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T19:27:42.607+09:00  INFO 44179 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T19:27:42.607+09:00  INFO 44179 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 856 ms
2025-05-14T19:27:42.678+09:00  INFO 44179 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T19:27:42.968+09:00  INFO 44179 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4aab7195
2025-05-14T19:27:42.969+09:00  INFO 44179 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T19:27:42.989+09:00  INFO 44179 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T19:27:43.012+09:00  INFO 44179 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T19:27:43.027+09:00  INFO 44179 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T19:27:43.153+09:00  INFO 44179 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T19:27:43.240+09:00  INFO 44179 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T19:27:43.385+09:00  INFO 44179 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T19:27:43.387+09:00  INFO 44179 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T19:27:43.431+09:00  WARN 44179 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T19:27:43.756+09:00  INFO 44179 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T19:27:43.780+09:00  WARN 44179 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T19:27:43.821+09:00  INFO 44179 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T19:27:43.833+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T19:27:43.834+09:00  INFO 44179 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:27:43.838+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T19:27:43.838+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T19:27:43.838+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T19:27:43.838+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T19:27:43.839+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T19:27:43.839+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T19:27:43.839+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T19:27:44.014+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T19:27:44.015+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T19:27:44.017+09:00  INFO 44179 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T19:27:44.019+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747218464018 with initial instances count: 6
2025-05-14T19:27:44.022+09:00  INFO 44179 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T19:27:44.023+09:00  INFO 44179 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747218464023, current=UP, previous=STARTING]
2025-05-14T19:27:44.024+09:00  INFO 44179 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T19:27:44.036+09:00  INFO 44179 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T19:27:44.037+09:00  INFO 44179 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T19:27:44.058+09:00  INFO 44179 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T19:27:44.059+09:00  INFO 44179 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 2.619 seconds (process running for 3.197)
2025-05-14T19:27:53.473+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T19:27:53.473+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T19:27:53.474+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T19:27:55.384+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: Is there anything specific you would like to know or discuss related to the number 123? For example, are you curious about:

*   **Mathematics:** Properties of the number 123, divisibility rules, prime factorization, etc.
*   **Symbolism:** Any symbolic meanings or cultural significance associated with the number 123.
*   **Applications:** Real-world uses of the number 123 (e.g., in addresses, codes, or statistics).
*   **Something else entirely?**

Please provide me with more information so I can assist you better.

2025-05-14T19:28:08.018+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 안녕하세요! 무엇을 도와드릴까요? 😊

2025-05-14T19:29:28.642+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-4] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 네, 내일(2024년 5월 16일) 김해 날씨 정보입니다.

*   **오전:** 맑음, 기온은 16°C에서 25°C 사이
*   **오후:** 맑음, 기온은 25°C에서 27°C 사이

미세먼지 농도는 보통 수준이며, 자외선 지수는 높음 단계입니다. 외출 시 자외선 차단에 신경 쓰시는 것이 좋겠습니다.

**참고:** 날씨는 예보이므로 실제 날씨와 차이가 있을 수 있습니다. 실시간 날씨 정보는 기상청 웹사이트나 날씨 앱을 참고하시는 것이 좋습니다.
2025-05-14T19:32:22.042+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-6] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 자바에서 간단한 로직 몇 가지를 알려드릴게요.

**1. Hello World 출력:**

가장 기본적인 예제로, "Hello, World!"를 콘솔에 출력하는 프로그램입니다.

```java
public class Main {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

**2. 두 수 더하기:**

두 개의 정수를 입력받아 합을 계산하고 출력하는 프로그램입니다.

```java
import java.util.Scanner;

public class AddNumbers {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.print("첫 번째 숫자를 입력하세요: ");
        int num1 = scanner.nextInt();

        System.out.print("두 번째 숫자를 입력하세요: ");
        int num2 = scanner.nextInt();

        int sum = num1 + num2;

        System.out.println("두 수의 합: " + sum);
    }
}
```

**3. 조건문 (if-else) 사용:**

입력받은 숫자가 양수인지, 음수인지, 0인지 판별하는 프로그램입니다.

```java
import java.util.Scanner;

public class CheckNumber {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.print("숫자를 입력하세요: ");
        int number = scanner.nextInt();

        if (number > 0) {
            System.out.println("양수입니다.");
        } else if (number < 0) {
            System.out.println("음수입니다.");
        } else {
            System.out.println("0입니다.");
        }
    }
}
```

**4. 반복문 (for loop) 사용:**

1부터 10까지 숫자를 출력하는 프로그램입니다.

```java
public class PrintNumbers {
    public static void main(String[] args) {
        for (int i = 1; i <= 10; i++) {
            System.out.println(i);
        }
    }
}
```

**5. 배열 사용:**

정수 배열을 만들고, 배열의 모든 요소를 출력하는 프로그램입니다.

```java
public class PrintArray {
    public static void main(String[] args) {
        int[] numbers = {1, 2, 3, 4, 5};

        System.out.println("배열의 요소:");
        for (int i = 0; i < numbers.length; i++) {
            System.out.println(numbers[i]);
        }
    }
}
```

**6. 문자열 다루기:**

문자열을 입력받아 길이를 출력하고, 특정 문자를 포함하는지 확인하는 프로그램입니다.

```java
import java.util.Scanner;

public class StringExample {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.print("문자열을 입력하세요: ");
        String text = scanner.nextLine();

        System.out.println("문자열 길이: " + text.length());

        if (text.contains("a")) {
            System.out.println("문자열에 'a'가 포함되어 있습니다.");
        } else {
            System.out.println("문자열에 'a'가 포함되어 있지 않습니다.");
        }
    }
}
```

**각 코드에 대한 설명:**

*   `public class Main` 또는 `public class 클래스이름`:  자바 프로그램의 기본 구조입니다. `Main`은 클래스 이름이며, 파일 이름과 동일해야 합니다.
*   `public static void main(String[] args)`:  프로그램 실행 시 가장 먼저 실행되는 메소드입니다.
*   `System.out.println()`:  콘솔에 내용을 출력하는 명령어입니다.
*   `Scanner`: 사용자로부터 입력을 받는 데 사용되는 클래스입니다.  `import java.util.Scanner;`를 통해 import해야 합니다.
*   `if-else`: 조건에 따라 다른 코드를 실행하는 조건문입니다.
*   `for`:  특정 횟수만큼 코드를 반복 실행하는 반복문입니다.
*   `배열`:  같은 타입의 데이터를 여러 개 저장할 수 있는 자료 구조입니다.
*   `String`:  문자열을 다루는 클래스입니다.

이 외에도 다양한 로직을 구현할 수 있습니다.  궁금한 점이 있다면 언제든지 질문해주세요.  어떤 종류의 로직을 배우고 싶으신가요? 예를 들어, 게임, 데이터 처리, 웹 개발 등 특정 분야에 관심이 있다면 더 구체적인 예제를 제공해 드릴 수 있습니다.

2025-05-14T19:32:43.840+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:37:43.841+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:39:22.331+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-8] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 음, 어떤 비밀을 새기고 싶은 걸까요? 둘만의 비밀이라고 하니 더욱 궁금해지네요! 어떤 내용인지 살짝 알려주실 수 있나요? 😉
2025-05-14T19:40:23.394+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-9] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 2번 사원의 근태 분석을 위해서는 다음과 같은 정보가 필요합니다.

**필수 정보:**

*   **이름 (또는 식별 가능한 정보):** 2번 사원이 누구인지 특정해야 합니다.
*   **분석 기간:** 최근 1개월, 3개월, 1년 등 분석하고자 하는 기간을 명확히 알려주세요.
*   **근태 관련 데이터:**
    *   출근 시간
    *   퇴근 시간
    *   지각 횟수 및 시간
    *   조퇴 횟수 및 시간
    *   결근 횟수
    *   휴가 사용 내역 (연차, 병가 등)
    *   출장 내역
    *   초과 근무 시간

**추가적으로 있으면 좋은 정보:**

*   **직무:** 어떤 업무를 수행하는지에 따라 근태의 의미를 해석하는 데 도움이 됩니다.
*   **부서:** 부서의 평균 근태와 비교하여 개인의 근태를 평가할 수 있습니다.
*   **근무 형태:** 시차출퇴근제, 재택근무 등 근무 형태에 따라 분석 방법이 달라질 수 있습니다.
*   **과거 근태 기록:** 과거 기록과 비교하여 변화 추이를 파악할 수 있습니다.
*   **특이사항:** 개인적인 사정으로 인한 근태 변동 사항 등

**정보가 주어지면 다음과 같은 분석을 수행할 수 있습니다.**

1.  **기본 통계:**
    *   평균 출근 시간 및 퇴근 시간
    *   월별/주별 근무 시간
    *   지각률, 조퇴율, 결근율 계산
2.  **패턴 분석:**
    *   특정 요일에 지각/조퇴가 잦은지 확인
    *   휴가 사용 패턴 분석 (특정 시기에 몰리는지 등)
    *   초과 근무 시간 추이 분석
3.  **성과 연관성 분석 (가능한 경우):**
    *   근태와 업무 성과 간의 상관관계 분석 (데이터가 있는 경우)
4.  **문제점 파악 및 개선 방향 제시:**
    *   지각/조퇴/결근이 잦은 경우 원인 파악
    *   비효율적인 근무 패턴 파악
    *   개선을 위한 제안 (예: 탄력 근무제 도입, 업무 분담 조정 등)

**예시:**

만약 "2번 사원(김민수), 2024년 1월부터 3월까지의 근태 데이터: 출근 시간, 퇴근 시간, 휴가 사용 내역..."과 같이 정보가 제공된다면, 해당 기간 동안 김민수 사원의 출퇴근 시간, 지각/조퇴 횟수, 휴가 사용 패턴 등을 분석하여 어떤 문제가 있는지, 개선할 부분은 무엇인지 파악할 수 있습니다.

**따라서, 2번 사원의 근태 분석을 위해 필요한 정보를 제공해주시면 구체적인 분석 결과를 제공해 드리겠습니다.**

2025-05-14T19:42:08.833+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 네, 여자친구가 있다는 건 정말 축하할 일이에요! 두 분 행복하게 예쁜 사랑 키워가시길 바랍니다. 😊 어떤 점이 특히 좋으신가요? 자랑하고 싶은 점이 있다면 편하게 이야기해주세요.
2025-05-14T19:42:43.841+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:45:02.209+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-3] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 근태 분석을 위해서는 어떤 사원에 대한 분석인지, 어떤 기간 동안의 데이터를 분석해야 하는지 등의 구체적인 정보가 필요합니다. 일반적으로 근태 분석은 다음과 같은 항목들을 포함하며, 주어진 정보에 따라 맞춤형 분석을 제공할 수 있습니다.

**1. 기본 정보 확인:**

*   **대상 사원:** 사번, 이름, 부서 등
*   **분석 기간:** 시작일, 종료일
*   **근무 형태:** 주 5일 근무, 교대 근무 등

**2. 주요 분석 지표:**

*   **총 근무일수:** 분석 기간 동안의 총 근무일수
*   **출근율:** 총 근무일수 대비 실제 출근일수의 비율
*   **결근 횟수 및 사유:** 무단결근, 병가, 휴가 등 결근 유형별 횟수
*   **지각/조퇴 횟수 및 시간:** 지각 및 조퇴 횟수, 총 지각/조퇴 시간
*   **근무 시간:**
    *   총 근무 시간: 분석 기간 동안의 총 근무 시간
    *   평균 근무 시간: 일별 평균 근무 시간
    *   초과 근무 시간: 법정 근무시간을 초과한 시간 (필요시)
*   **휴가 사용:** 연차, 특별 휴가 등 휴가 사용 현황
*   **특이사항:** 특이한 근태 패턴 (잦은 지각, 특정 요일 결근 등)

**3. 분석 방법:**

*   **추세 분석:** 시간 경과에 따른 근태 변화 추이 분석 (월별, 분기별 등)
*   **비교 분석:**
    *   개인별 비교: 동일 부서 또는 직급의 다른 직원들과 비교
    *   부서별 비교: 부서별 평균 근태 지표 비교
    *   전년도 비교: 전년도 동기간 대비 근태 변화 비교
*   **원인 분석:** 문제 발생 시 원인 파악 (개인적인 문제, 업무 환경 문제 등)

**4. 결과 제시:**

*   **요약 보고서:** 주요 지표 요약 및 분석 결과 제시
*   **상세 보고서:** 각 지표별 상세 데이터 및 시각화 자료 (그래프, 차트 등)
*   **개선 제안:** 문제점 발견 시 개선 방안 제시 (근무 환경 개선, 개인 상담 등)

**따라서, 위에서 언급한 정보들을 제공해주시면 더욱 정확하고 심도있는 근태 분석을 제공해 드릴 수 있습니다.** 예를 들어, 다음과 같이 질문해주시면 됩니다.

*   "사번 XXXX, 홍길동 사원의 2023년 1월부터 2023년 12월까지의 근태 분석을 해주세요."
*   "개발팀 김철수 사원의 최근 3개월 근태 분석을 부탁드립니다. 잦은 지각의 원인을 파악하고 개선 방안을 제시해주세요."

주어진 정보를 바탕으로 맞춤형 근태 분석 보고서를 작성해 드리겠습니다.
2025-05-14T19:47:32.174+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 30일간의 지각 분석을 위해서는 다음과 같은 정보가 필요합니다.

**1. 데이터 수집:**

*   **지각 발생일:** 30일 동안의 각 지각 발생 날짜
*   **지각 시간:** 각 지각 발생 시 지각 시간 (예: 5분, 10분, 30분 등)
*   **지각 사유 (가능한 경우):** 개인적인 사유, 교통 체증, 대중교통 문제, 기타 등
*   **지각자 (선택 사항):** 누가 지각했는지 (개인 정보 보호를 고려하여 익명화 또는 코드화 가능)

**2. 데이터 분석:**

수집된 데이터를 바탕으로 다음과 같은 분석을 수행할 수 있습니다.

*   **지각 발생 빈도:**
    *   전체 지각 횟수 계산
    *   일별 평균 지각 횟수 계산
    *   특정 요일에 지각이 잦은지 확인 (요일별 지각 횟수 비교)
*   **지각 시간 분석:**
    *   평균 지각 시간 계산
    *   최대/최소 지각 시간 확인
    *   특정 시간대에 지각이 집중되는지 확인 (시간대별 지각 횟수 비교)
*   **지각 사유 분석:**
    *   가장 흔한 지각 사유 파악
    *   사유별 지각 횟수 및 시간 분석
*   **지각자 분석 (선택 사항):**
    *   개인별 지각 횟수 및 시간 분석 (개인 정보 보호에 유의)
    *   특정 그룹에서 지각이 잦은지 확인

**3. 시각화:**

분석 결과를 시각적으로 표현하여 이해도를 높일 수 있습니다.

*   **막대 그래프:** 요일별/시간대별/사유별 지각 횟수 비교
*   **꺾은선 그래프:** 일별 지각 횟수 추이
*   **원 그래프:** 지각 사유별 비율
*   **표:** 지각 데이터 요약

**4. 결과 해석 및 개선 방안 도출:**

분석 결과를 바탕으로 지각의 원인을 파악하고, 다음과 같은 개선 방안을 도출할 수 있습니다.

*   **개인적인 차원:**
    *   개인별 시간 관리 능력 향상 교육
    *   지각자 상담
    *   개인별 맞춤형 지각 예방 전략 수립
*   **조직적인 차원:**
    *   출퇴근 시간 조정
    *   유연 근무제 도입
    *   교통 체증 완화를 위한 대책 마련 (예: 카풀 장려, 대중교통 이용 지원)
    *   지각 보고 시스템 개선

**예시:**

만약 30일 동안의 지각 데이터를 분석한 결과, '교통 체증'으로 인한 지각이 가장 많고, 특히 월요일 아침에 지각이 집중된다는 사실을 발견했다면, 다음과 같은 개선 방안을 고려할 수 있습니다.

*   월요일 출근 시간을 30분 앞당기거나 늦추는 유연 근무제 도입
*   카풀을 장려하고, 카풀 이용자에게 인센티브 제공
*   대중교통 이용을 장려하고, 대중교통 이용 비용 지원

**주의 사항:**

*   지각 분석은 처벌이 아닌 문제 해결을 위한 목적으로 사용되어야 합니다.
*   개인 정보 보호에 유의해야 합니다.
*   지각 데이터는 정확하고 객관적으로 수집되어야 합니다.

이 가이드라인을 바탕으로 30일간의 지각 데이터를 분석하고, 효과적인 개선 방안을 도출하여 지각률을 낮추고 생산성을 향상시키기를 바랍니다. 궁금한 점이 있으면 언제든지 질문해주세요.

2025-05-14T19:47:43.842+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:52:43.843+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T19:57:43.844+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:02:43.845+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:06:35.278+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-7] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 네, 저녁 먹었습니다. 맛있게 드셨어요? 아니면, 혹시 저녁 메뉴를 고민 중이신가요? 😊

2025-05-14T20:06:58.799+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-8] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 죄송합니다. 이 사원에 대한 30일 근무 기록이 없습니다.
2025-05-14T20:07:07.893+09:00  INFO 44179 --- [analysis-service] [http-nio-10261-exec-9] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 수신 완료: 인사 데이터베이스 시스템에 접근하지 않고는 사원 한 명의 30일 근무 기록을 제공할 수 없습니다. 개인 정보 보호 문제로 인해 사원 데이터를 공유할 수 없습니다.
2025-05-14T20:07:43.846+09:00  INFO 44179 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:12:19.731+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T20:12:19.731+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747221139731, current=DOWN, previous=UP]
2025-05-14T20:12:19.732+09:00  INFO 44179 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:12:19.734+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T20:12:19.735+09:00  INFO 44179 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T20:12:19.740+09:00  INFO 44179 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:12:19.741+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:12:19.743+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T20:12:19.886+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T20:12:19.886+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T20:12:22.887+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T20:12:22.891+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T20:12:22.891+09:00  INFO 44179 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T20:12:27.018+09:00  INFO 49520 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 49520 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T20:12:27.020+09:00  INFO 49520 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T20:12:27.673+09:00  INFO 49520 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T20:12:27.690+09:00  INFO 49520 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2025-05-14T20:12:27.869+09:00  INFO 49520 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T20:12:28.301+09:00  INFO 49520 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T20:12:28.311+09:00  INFO 49520 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T20:12:28.312+09:00  INFO 49520 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T20:12:28.350+09:00  INFO 49520 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T20:12:28.350+09:00  INFO 49520 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1297 ms
2025-05-14T20:12:28.450+09:00  INFO 49520 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T20:12:28.805+09:00  INFO 49520 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1de85972
2025-05-14T20:12:28.807+09:00  INFO 49520 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T20:12:28.833+09:00  INFO 49520 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T20:12:28.864+09:00  INFO 49520 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T20:12:28.884+09:00  INFO 49520 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T20:12:29.055+09:00  INFO 49520 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T20:12:29.152+09:00  INFO 49520 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T20:12:29.356+09:00  INFO 49520 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T20:12:29.359+09:00  INFO 49520 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:12:29.427+09:00  WARN 49520 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T20:12:29.810+09:00  INFO 49520 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T20:12:29.841+09:00  WARN 49520 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T20:12:29.891+09:00  INFO 49520 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T20:12:29.905+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T20:12:29.907+09:00  INFO 49520 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T20:12:29.912+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T20:12:30.146+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T20:12:30.147+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T20:12:30.148+09:00  INFO 49520 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T20:12:30.150+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747221150149 with initial instances count: 6
2025-05-14T20:12:30.153+09:00  INFO 49520 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T20:12:30.153+09:00  INFO 49520 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747221150153, current=UP, previous=STARTING]
2025-05-14T20:12:30.155+09:00  INFO 49520 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:12:30.163+09:00  INFO 49520 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T20:12:30.164+09:00  INFO 49520 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T20:12:30.181+09:00  INFO 49520 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:12:30.185+09:00  INFO 49520 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 3.691 seconds (process running for 4.541)
2025-05-14T20:17:29.916+09:00  INFO 49520 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:17:34.445+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T20:17:34.445+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747221454445, current=DOWN, previous=UP]
2025-05-14T20:17:34.445+09:00  INFO 49520 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:17:34.447+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T20:17:34.449+09:00  INFO 49520 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T20:17:34.450+09:00  INFO 49520 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:17:34.453+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:17:34.454+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T20:17:34.594+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T20:17:34.594+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T20:17:37.595+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T20:17:37.599+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T20:17:37.599+09:00  INFO 49520 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T20:17:40.361+09:00  INFO 50359 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 50359 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T20:17:40.362+09:00  INFO 50359 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T20:17:40.821+09:00  INFO 50359 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T20:17:40.833+09:00  INFO 50359 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-14T20:17:40.947+09:00  INFO 50359 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T20:17:41.276+09:00  INFO 50359 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T20:17:41.283+09:00  INFO 50359 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T20:17:41.284+09:00  INFO 50359 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T20:17:41.308+09:00  INFO 50359 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T20:17:41.308+09:00  INFO 50359 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 915 ms
2025-05-14T20:17:41.380+09:00  INFO 50359 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T20:17:41.670+09:00  INFO 50359 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70cf7d1e
2025-05-14T20:17:41.671+09:00  INFO 50359 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T20:17:41.691+09:00  INFO 50359 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T20:17:41.715+09:00  INFO 50359 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T20:17:41.733+09:00  INFO 50359 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T20:17:41.862+09:00  INFO 50359 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T20:17:41.947+09:00  INFO 50359 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T20:17:42.122+09:00  INFO 50359 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T20:17:42.125+09:00  INFO 50359 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:17:42.224+09:00  WARN 50359 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T20:17:42.635+09:00  INFO 50359 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T20:17:42.663+09:00  WARN 50359 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T20:17:42.704+09:00  INFO 50359 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T20:17:42.720+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T20:17:42.722+09:00  INFO 50359 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T20:17:42.727+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T20:17:42.899+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T20:17:42.900+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T20:17:42.901+09:00  INFO 50359 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T20:17:42.902+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747221462902 with initial instances count: 6
2025-05-14T20:17:42.905+09:00  INFO 50359 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T20:17:42.905+09:00  INFO 50359 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747221462905, current=UP, previous=STARTING]
2025-05-14T20:17:42.907+09:00  INFO 50359 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:17:42.915+09:00  INFO 50359 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T20:17:42.915+09:00  INFO 50359 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T20:17:42.934+09:00  INFO 50359 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 2.903 seconds (process running for 3.375)
2025-05-14T20:17:42.944+09:00  INFO 50359 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:22:42.728+09:00  INFO 50359 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:27:42.729+09:00  INFO 50359 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:31:19.975+09:00  INFO 50359 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T20:31:19.975+09:00  INFO 50359 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T20:31:19.976+09:00  INFO 50359 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T20:31:20.019+09:00 ERROR 50359 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.util.List.iterator()" because the return value of "com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest.getWorkRecords()" is null] with root cause

java.lang.NullPointerException: Cannot invoke "java.util.List.iterator()" because the return value of "com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest.getWorkRecords()" is null
	at com.nhnacademy.workanalysis.util.PromptComposer.compose(PromptComposer.java:11) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.GeminiServiceImpl.analyze(GeminiServiceImpl.java:18) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:19) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T20:32:09.849+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T20:32:09.850+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747222329850, current=DOWN, previous=UP]
2025-05-14T20:32:09.850+09:00  INFO 50359 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:32:09.852+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T20:32:09.854+09:00  INFO 50359 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T20:32:09.854+09:00  INFO 50359 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:32:09.858+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:32:09.860+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T20:32:10.006+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T20:32:10.007+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T20:32:13.008+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T20:32:13.008+09:00  WARN 50359 --- [analysis-service] [DiscoveryClient-%d] c.netflix.discovery.TimedSupervisorTask  : task supervisor shutting down, can't accept the task
2025-05-14T20:32:13.011+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T20:32:13.012+09:00  INFO 50359 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T20:32:15.930+09:00  INFO 52117 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 52117 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T20:32:15.933+09:00  INFO 52117 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T20:32:16.714+09:00  INFO 52117 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T20:32:16.735+09:00  INFO 52117 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2025-05-14T20:32:16.976+09:00  INFO 52117 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T20:32:17.406+09:00  INFO 52117 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T20:32:17.415+09:00  INFO 52117 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T20:32:17.415+09:00  INFO 52117 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T20:32:17.443+09:00  INFO 52117 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T20:32:17.444+09:00  INFO 52117 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1467 ms
2025-05-14T20:32:17.520+09:00  INFO 52117 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T20:32:17.876+09:00  INFO 52117 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c27f72
2025-05-14T20:32:17.878+09:00  INFO 52117 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T20:32:17.904+09:00  INFO 52117 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T20:32:17.934+09:00  INFO 52117 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T20:32:17.977+09:00  INFO 52117 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T20:32:18.187+09:00  INFO 52117 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T20:32:18.284+09:00  INFO 52117 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T20:32:18.466+09:00  INFO 52117 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T20:32:18.469+09:00  INFO 52117 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:32:18.528+09:00  WARN 52117 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T20:32:18.865+09:00  INFO 52117 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T20:32:18.892+09:00  WARN 52117 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T20:32:18.935+09:00  INFO 52117 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T20:32:18.948+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T20:32:18.949+09:00  INFO 52117 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T20:32:18.954+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T20:32:19.155+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T20:32:19.157+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T20:32:19.158+09:00  INFO 52117 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T20:32:19.160+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747222339160 with initial instances count: 6
2025-05-14T20:32:19.165+09:00  INFO 52117 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T20:32:19.165+09:00  INFO 52117 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747222339165, current=UP, previous=STARTING]
2025-05-14T20:32:19.166+09:00  INFO 52117 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:32:19.177+09:00  INFO 52117 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T20:32:19.178+09:00  INFO 52117 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T20:32:19.192+09:00  INFO 52117 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:32:19.199+09:00  INFO 52117 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 3.797 seconds (process running for 4.559)
2025-05-14T20:32:22.740+09:00  INFO 52117 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T20:32:22.740+09:00  INFO 52117 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T20:32:22.741+09:00  INFO 52117 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T20:32:22.799+09:00 ERROR 52117 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.util.List.iterator()" because the return value of "com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest.getWorkRecords()" is null] with root cause

java.lang.NullPointerException: Cannot invoke "java.util.List.iterator()" because the return value of "com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest.getWorkRecords()" is null
	at com.nhnacademy.workanalysis.util.PromptComposer.compose(PromptComposer.java:11) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.GeminiServiceImpl.analyze(GeminiServiceImpl.java:18) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:19) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T20:32:51.456+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T20:32:51.456+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747222371456, current=DOWN, previous=UP]
2025-05-14T20:32:51.456+09:00  INFO 52117 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:32:51.458+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T20:32:51.459+09:00  INFO 52117 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T20:32:51.460+09:00  INFO 52117 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:32:51.465+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:32:51.466+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T20:32:51.616+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T20:32:51.617+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T20:32:54.617+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T20:32:54.621+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T20:32:54.621+09:00  INFO 52117 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T20:32:57.884+09:00  INFO 52736 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 52736 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T20:32:57.885+09:00  INFO 52736 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T20:32:58.253+09:00  INFO 52736 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T20:32:58.265+09:00  INFO 52736 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-05-14T20:32:58.376+09:00  INFO 52736 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T20:32:58.681+09:00  INFO 52736 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T20:32:58.689+09:00  INFO 52736 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T20:32:58.690+09:00  INFO 52736 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T20:32:58.718+09:00  INFO 52736 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T20:32:58.718+09:00  INFO 52736 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 810 ms
2025-05-14T20:32:58.793+09:00  INFO 52736 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T20:32:59.104+09:00  INFO 52736 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6210666c
2025-05-14T20:32:59.106+09:00  INFO 52736 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T20:32:59.130+09:00  INFO 52736 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T20:32:59.156+09:00  INFO 52736 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T20:32:59.173+09:00  INFO 52736 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T20:32:59.306+09:00  INFO 52736 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T20:32:59.396+09:00  INFO 52736 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T20:32:59.548+09:00  INFO 52736 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T20:32:59.553+09:00  INFO 52736 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:32:59.624+09:00  WARN 52736 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T20:33:00.041+09:00  INFO 52736 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T20:33:00.105+09:00  WARN 52736 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T20:33:00.182+09:00  INFO 52736 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T20:33:00.203+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T20:33:00.206+09:00  INFO 52736 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T20:33:00.214+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T20:33:00.541+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T20:33:00.543+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T20:33:00.545+09:00  INFO 52736 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T20:33:00.547+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747222380546 with initial instances count: 6
2025-05-14T20:33:00.550+09:00  INFO 52736 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T20:33:00.551+09:00  INFO 52736 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747222380551, current=UP, previous=STARTING]
2025-05-14T20:33:00.553+09:00  INFO 52736 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:33:00.568+09:00  INFO 52736 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T20:33:00.569+09:00  INFO 52736 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T20:33:00.596+09:00  INFO 52736 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:33:00.657+09:00  INFO 52736 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 3.085 seconds (process running for 3.745)
2025-05-14T20:34:46.496+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T20:34:46.496+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747222486496, current=DOWN, previous=UP]
2025-05-14T20:34:46.496+09:00  INFO 52736 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:34:46.497+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T20:34:46.498+09:00  INFO 52736 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T20:34:46.500+09:00  INFO 52736 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:34:46.503+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:34:46.505+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T20:34:46.642+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T20:34:46.643+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T20:34:49.643+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T20:34:49.648+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T20:34:49.648+09:00  INFO 52736 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T20:34:52.967+09:00  INFO 53494 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 53494 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T20:34:52.969+09:00  INFO 53494 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T20:34:53.490+09:00  INFO 53494 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T20:34:53.504+09:00  INFO 53494 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-14T20:34:53.652+09:00  INFO 53494 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T20:34:53.971+09:00  INFO 53494 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T20:34:53.982+09:00  INFO 53494 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T20:34:53.983+09:00  INFO 53494 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T20:34:54.010+09:00  INFO 53494 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T20:34:54.010+09:00  INFO 53494 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1011 ms
2025-05-14T20:34:54.087+09:00  INFO 53494 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T20:34:54.438+09:00  INFO 53494 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a122e68
2025-05-14T20:34:54.439+09:00  INFO 53494 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T20:34:54.490+09:00  INFO 53494 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T20:34:54.545+09:00  INFO 53494 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T20:34:54.580+09:00  INFO 53494 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T20:34:54.757+09:00  INFO 53494 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T20:34:54.848+09:00  INFO 53494 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T20:34:55.036+09:00  INFO 53494 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T20:34:55.039+09:00  INFO 53494 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T20:34:55.091+09:00  WARN 53494 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T20:34:55.439+09:00  INFO 53494 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T20:34:55.466+09:00  WARN 53494 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T20:34:55.505+09:00  INFO 53494 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T20:34:55.523+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T20:34:55.526+09:00  INFO 53494 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T20:34:55.532+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T20:34:55.687+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T20:34:55.688+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T20:34:55.689+09:00  INFO 53494 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T20:34:55.690+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747222495690 with initial instances count: 5
2025-05-14T20:34:55.692+09:00  INFO 53494 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T20:34:55.693+09:00  INFO 53494 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747222495692, current=UP, previous=STARTING]
2025-05-14T20:34:55.693+09:00  INFO 53494 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T20:34:55.703+09:00  INFO 53494 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T20:34:55.704+09:00  INFO 53494 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T20:34:55.721+09:00  INFO 53494 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T20:34:55.726+09:00  INFO 53494 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 3.234 seconds (process running for 3.82)
2025-05-14T20:39:55.533+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:44:55.534+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:49:55.535+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:54:55.536+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T20:59:55.537+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:04:55.538+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:09:55.539+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:14:55.540+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:19:55.541+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:24:55.542+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:29:55.543+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:34:55.544+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:39:55.545+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:44:12.302+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T21:44:12.303+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T21:44:12.304+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T21:44:15.573+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 입력하신 "asd"는 해당 근무 기록 분석에 필요한 정보가 아닙니다. 어떤 정보를 원하시는...
2025-05-14T21:44:55.546+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:45:10.756+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: ## 사원번호 95, 2025년 3월 근태 현황

**총 근무일:** 17일 (출근 기록을...
2025-05-14T21:46:18.715+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-4] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 죄송합니다. 제공된 데이터로는 저녁 메뉴를 추천해 드릴 수 없습니다. 해당 데이터는 사원 ...
2025-05-14T21:46:48.490+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95의 2025년 3월과 5월 근무 기록을 바탕으로 피로도를 분석해 보겠습니다.
...
2025-05-14T21:47:44.490+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-6] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95번은 2025년 3월에 9시 출근-15시 퇴근 패턴과 9시 출근-18시 퇴근 ...
2025-05-14T21:49:11.049+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-8] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95번의 2025년 3월과 5월 근무 기록을 바탕으로 피로도를 분석하고 점심 식사...
2025-05-14T21:49:55.547+09:00  INFO 53494 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:50:21.574+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-10] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95번의 2025년 3월, 5월 근무 기록을 바탕으로 피로도를 분석하고, 이를 토...
2025-05-14T21:51:12.633+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95번의 2025년 3월, 5월 근무 기록을 바탕으로 평가등급을 매기기에는 어려움...
2025-05-14T21:51:32.131+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95번의 2025년 3월 근무 기록을 바탕으로 평가 등급을 예측하기는 어렵습니다....
2025-05-14T21:52:07.850+09:00  INFO 53494 --- [analysis-service] [http-nio-10261-exec-3] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: ## 사원번호 95의 2025년 평가 등급 (3월 출석일수 기준): F

**3줄 요약:*...
2025-05-14T21:52:51.769+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application ANALYSIS-SERVICE with eureka with status DOWN
2025-05-14T21:52:51.769+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747227171769, current=DOWN, previous=UP]
2025-05-14T21:52:51.770+09:00  INFO 53494 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T21:52:51.771+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-14T21:52:51.773+09:00  INFO 53494 --- [analysis-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-14T21:52:51.776+09:00  INFO 53494 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T21:52:51.779+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T21:52:51.780+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-14T21:52:51.935+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-14T21:52:51.935+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2025-05-14T21:52:54.936+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2025-05-14T21:52:54.939+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200
2025-05-14T21:52:54.939+09:00  INFO 53494 --- [analysis-service] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2025-05-14T21:52:57.695+09:00  INFO 58387 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Starting WorkAnalysisApplication using Java 21.0.7 with PID 58387 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)
2025-05-14T21:52:57.696+09:00  INFO 58387 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : No active profile set, falling back to 1 default profile: "default"
2025-05-14T21:52:58.044+09:00  INFO 58387 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-14T21:52:58.056+09:00  INFO 58387 --- [analysis-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-05-14T21:52:58.171+09:00  INFO 58387 --- [analysis-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=0bf34c7e-07fb-3aeb-b62c-d3a86f860097
2025-05-14T21:52:58.478+09:00  INFO 58387 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10261 (http)
2025-05-14T21:52:58.487+09:00  INFO 58387 --- [analysis-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-14T21:52:58.488+09:00  INFO 58387 --- [analysis-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-14T21:52:58.514+09:00  INFO 58387 --- [analysis-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-14T21:52:58.514+09:00  INFO 58387 --- [analysis-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 801 ms
2025-05-14T21:52:58.591+09:00  INFO 58387 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-14T21:52:58.908+09:00  INFO 58387 --- [analysis-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70cf7d1e
2025-05-14T21:52:58.909+09:00  INFO 58387 --- [analysis-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-14T21:52:58.929+09:00  INFO 58387 --- [analysis-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-14T21:52:58.951+09:00  INFO 58387 --- [analysis-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-14T21:52:58.966+09:00  INFO 58387 --- [analysis-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-14T21:52:59.087+09:00  INFO 58387 --- [analysis-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-14T21:52:59.175+09:00  INFO 58387 --- [analysis-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-14T21:52:59.321+09:00  INFO 58387 --- [analysis-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-14T21:52:59.323+09:00  INFO 58387 --- [analysis-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-14T21:52:59.370+09:00  WARN 58387 --- [analysis-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-14T21:52:59.688+09:00  INFO 58387 --- [analysis-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-05-14T21:52:59.714+09:00  WARN 58387 --- [analysis-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-05-14T21:52:59.751+09:00  INFO 58387 --- [analysis-service] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2025-05-14T21:52:59.762+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2025-05-14T21:52:59.766+09:00  INFO 58387 --- [analysis-service] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2025-05-14T21:52:59.771+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2025-05-14T21:52:59.931+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2025-05-14T21:52:59.933+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2025-05-14T21:52:59.934+09:00  INFO 58387 --- [analysis-service] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-05-14T21:52:59.935+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1747227179934 with initial instances count: 6
2025-05-14T21:52:59.937+09:00  INFO 58387 --- [analysis-service] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application ANALYSIS-SERVICE with eureka with status UP
2025-05-14T21:52:59.937+09:00  INFO 58387 --- [analysis-service] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1747227179937, current=UP, previous=STARTING]
2025-05-14T21:52:59.938+09:00  INFO 58387 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...
2025-05-14T21:52:59.948+09:00  INFO 58387 --- [analysis-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10261 (http) with context path '/'
2025-05-14T21:52:59.949+09:00  INFO 58387 --- [analysis-service] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 10261
2025-05-14T21:52:59.962+09:00  INFO 58387 --- [analysis-service] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204
2025-05-14T21:52:59.969+09:00  INFO 58387 --- [analysis-service] [main] c.n.w.WorkAnalysisApplication            : Started WorkAnalysisApplication in 2.591 seconds (process running for 3.065)
2025-05-14T21:53:43.548+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-14T21:53:43.548+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-14T21:53:43.549+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-14T21:53:44.948+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=96 | 결과 요약: 제가 알 수 있는 정보는 2025년 5월 14일까지의 근무 기록뿐입니다. 미래의 퇴근 시간은 예측할 수 없습니다. 

2025-05-14T21:54:09.734+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=96 | 결과 요약: 사원번호 96번의 3월 근무 기록을 기반으로 퇴근 시간을 예측해 보겠습니다. 3월 데이터를 분석해 보면 다음과 같은 패턴을 보입니다.

*   **상태 1:** 주로 18:00 퇴...
2025-05-14T21:54:33.773+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-3] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=96 | 결과 요약: 사원번호 96번의 3월 근무 기록을 기반으로 오늘 퇴근 시간을 예측하고 그래프를 생성하는 것은 현재로서는 어렵습니다. 그 이유는 다음과 같습니다.

*   **미래 예측의 불확실성...
2025-05-14T21:57:59.773+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T22:02:59.774+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T22:07:12.939+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=96 | 결과 요약: 어떤 종류의 그래프를 원하시는지, 그리고 "유용한 데이터"가 어떤 의미인지 좀 더 구체적으로 알려주시면 더 정확한 그래프를 만들어 드릴 수 있습니다. 하지만 현재 주어진 정보와 일...
2025-05-14T22:07:59.775+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T22:09:43.777+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-7] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 저는 아직 이름이 없습니다. 저는 Google에서 훈련한 대규모 언어 모델입니다.

2025-05-14T22:09:52.481+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-8] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 제공된 정보에는 사원번호 95에 해당하는 사람의 이름이 나와있지 않습니다. 근무 기록만으로는 이름을 알 수 없습니다.

2025-05-14T22:10:20.202+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-9] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95의 근무 추이를 분석해 보면 다음과 같습니다.

**2025년 3월:**

*   **전반적인 특징:** 출근 시간이 대체로 일정하며, 퇴근 시간이 유동적입니다.
* ...
2025-05-14T22:11:27.834+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-1] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 제공된 근무 기록만으로는 이 사람이 성실한 사람인지 판단하기 어렵습니다. 다음과 같은 점을 고려해야 합니다.

*   **상태 코드의 의미:** 상태 코드가 무엇을 의미하는지 알아...
2025-05-14T22:12:59.775+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T22:16:33.998+09:00 ERROR 58387 --- [analysis-service] [http-nio-10261-exec-3] c.n.w.adaptor.GeminiApiClient            : ❌ Gemini API 호출 실패 - message: 503 Service Unavailable on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent": "{<EOL>  "error": {<EOL>    "code": 503,<EOL>    "message": "The service is currently unavailable.",<EOL>    "status": "UNAVAILABLE"<EOL>  }<EOL>}<EOL>"

org.springframework.web.client.HttpServerErrorException$ServiceUnavailable: 503 Service Unavailable on POST request for "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent": "{<EOL>  "error": {<EOL>    "code": 503,<EOL>    "message": "The service is currently unavailable.",<EOL>    "status": "UNAVAILABLE"<EOL>  }<EOL>}<EOL>"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:111) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:189) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:683) ~[spring-web-6.2.5.jar:6.2.5]
	at com.nhnacademy.workanalysis.adaptor.GeminiApiClient.call(GeminiApiClient.java:46) ~[classes/:na]
	at com.nhnacademy.workanalysis.service.GeminiServiceImpl.analyze(GeminiServiceImpl.java:19) ~[classes/:na]
	at com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:19) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-14T22:17:39.008+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-5] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 사원번호 95번의 2025년 3월 근무 기록을 객관적으로 평가했을 때, 몇 가지 긍정적인 부분과 개선해야 할 부분이 보입니다.

**긍정적인 부분:**

*   **출근 기록:**...
2025-05-14T22:17:41.414+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-6] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 3월 데이터만 놓고 객관적으로 판단하기에는 어려움이 있습니다. 다음과 같은 점들을 고려해야 합니다.

* **상태 코드의 의미:** 상태 코드 1, 2, 3, 6, 7이 각각 무엇...
2025-05-14T22:17:55.675+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-7] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=96 | 결과 요약: 근무 기록만으로는 성실함을 단정하기는 어렵습니다. 다음 사항들을 고려해야 합니다.

*   **상태 코드의 의미:** 상태 코드가 무엇을 의미하는지 알아야 합니다. 예를 들어, 상...
2025-05-14T22:17:59.776+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T22:18:55.184+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-8] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 제공된 근무 기록만으로는 사원번호 95번이 성실한지 판단하기 어렵습니다. 다음과 같은 이유 때문입니다.

*   **상태 코드의 의미 불명확:** "상태" 필드의 숫자가 무엇을 의...
2025-05-14T22:22:06.244+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-10] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=null | 결과 요약: 주어진 근무 기록만으로는 "성실하다"고 단정적으로 판단하기는 어렵습니다. 하지만 몇 가지 근거를 바탕으로 추론해볼 수 있습니다.

**긍정적인 측면:**

*   **꾸준한 출근:...
2025-05-14T22:22:59.777+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2025-05-14T22:24:04.127+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-2] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: 제공된 근무 기록을 바탕으로 성실성을 판단하기에는 몇 가지 어려움이 있습니다. 하지만 다음과 같은 점들을 고려해 볼 수 있습니다.

**긍정적인 측면:**

*   **꾸준한 출근...
2025-05-14T22:24:36.944+09:00  INFO 58387 --- [analysis-service] [http-nio-10261-exec-3] c.n.w.adaptor.GeminiApiClient            : ✅ Gemini 응답 성공 - memberNo=95 | 결과 요약: ## 사원번호 95번의 2025년 3월 & 5월 근무 성실도 추이

| 날짜      | 상태 | 출근 시간      | 퇴근 시간      | 근무 시간 | 성실도 판단 (주관적...
2025-05-14T22:27:59.778+09:00  INFO 58387 --- [analysis-service] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
