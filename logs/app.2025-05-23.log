{"@timestamp":"2025-05-23T14:48:21.243554883+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:21.277424853+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 20674 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:21.278273896+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:21.700572987+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:21.8383883+09:00","@version":"1","message":"Finished Spring Data repository scanning in 131 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:21.97329751+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.199072617+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.20579085+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.206510773+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.206621358+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.232212914+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.232403685+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 932 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.307338778+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.698283423+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1280bae3","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.699248819+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.734144835+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.773455894+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.795203968+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:22.948699787+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:23.056149562+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:23.532928959+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:23.534408974+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:23.730690718+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:23.79023245+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:23.817700742+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:24.10069961+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.125166885+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:24.164631051+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.177532682+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.179108923+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.182800885+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.182876528+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.18291219+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.182938386+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.182965004+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.182992316+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.183020752+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.279711973+09:00","@version":"1","message":"Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:10252/eureka/}, exception=I/O error on GET request for \"http://localhost:10252/eureka/apps/\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨 stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for \"http://localhost:10252/eureka/apps/\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:162)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1046)\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:961)\n\tat com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:410)\n\tat com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:245)\n\tat com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:240)\n\tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:68)\n\tat org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:324)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:378)\n\tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:375)\n\tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:375)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:128)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:116)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n\tat org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$SpringCGLIB$$0.getEurekaClient(<generated>)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:83)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:66)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:89)\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323)\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510)\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295)\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240)\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630)\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)\n\tat com.nhnacademy.workanalysis.WorkAnalysisApplication.main(WorkAnalysisApplication.java:10)\nCaused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n\tat java.base/java.net.Socket.connect(Socket.java:751)\n\tat org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)\n\tat org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)\n\t... 64 more\n","logger_name":"com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.280238711+09:00","@version":"1","message":"Request execution failed with message: I/O error on GET request for \"http://localhost:10252/eureka/apps/\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨","logger_name":"com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:24.280506955+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1046)\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:961)\n\tat com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:410)\n\tat com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:245)\n\tat com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:240)\n\tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:68)\n\tat org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:324)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:378)\n\tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:375)\n\tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:375)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:128)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:116)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n\tat org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$SpringCGLIB$$0.getEurekaClient(<generated>)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:83)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:66)\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:89)\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:323)\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:510)\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:295)\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:240)\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:1006)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:630)\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)\n\tat com.nhnacademy.workanalysis.WorkAnalysisApplication.main(WorkAnalysisApplication.java:10)\n","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.280777307+09:00","@version":"1","message":"Initial registry fetch from primary servers failed","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.280841737+09:00","@version":"1","message":"Using default backup registry implementation which does not do anything.","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:24.280971722+09:00","@version":"1","message":"Initial registry fetch from backup servers failed","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.281437056+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.28296467+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.284611108+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747979304283 with initial instances count: 0","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.287937667+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.288455945+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747979304288, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.289472216+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.289494683+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.29824646+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.29876282+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.308781664+09:00","@version":"1","message":"Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:10252/eureka/}, exception=I/O error on POST request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨 stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:87)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)\n\tat com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)\n\tat com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n\tat java.base/java.net.Socket.connect(Socket.java:751)\n\tat org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)\n\tat org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)\n\t... 22 more\n","logger_name":"com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:24.309079429+09:00","@version":"1","message":"Request execution failed with message: I/O error on POST request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨","logger_name":"com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:24.309144728+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration failed Cannot execute request on any known server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"WARN","level_value":30000,"stack_trace":"com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)\n\tat com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)\n\tat com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:48:24.309973987+09:00","@version":"1","message":"There was a problem with the instance info replicator","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"WARN","level_value":30000,"stack_trace":"com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)\n\tat com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)\n\tat com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:48:24.315980738+09:00","@version":"1","message":"Started WorkAnalysisApplication in 3.509 seconds (process running for 4.146)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.288978005+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.289828816+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.290018293+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.290684929+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.290881004+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.291023265+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.291122962+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.310684286+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.351681896+09:00","@version":"1","message":"Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:10252/eureka/}, exception=I/O error on PUT request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨 stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n\tat com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)\n\tat com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n\tat java.base/java.net.Socket.connect(Socket.java:751)\n\tat org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)\n\tat org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)\n\t... 20 more\n","logger_name":"com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient","thread_name":"DiscoveryClient-HeartbeatExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.353328723+09:00","@version":"1","message":"Request execution failed with message: I/O error on PUT request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨","logger_name":"com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient","thread_name":"DiscoveryClient-HeartbeatExecutor-%d","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:54.35374108+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - was unable to send heartbeat!","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-HeartbeatExecutor-%d","level":"ERROR","level_value":40000,"stack_trace":"com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n\tat com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)\n\tat com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:48:54.377784194+09:00","@version":"1","message":"Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:10252/eureka/}, exception=I/O error on GET request for \"http://localhost:10252/eureka/apps/\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨 stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for \"http://localhost:10252/eureka/apps/\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:162)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1046)\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:961)\n\tat com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)\n\tat com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n\tat java.base/java.net.Socket.connect(Socket.java:751)\n\tat org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)\n\tat org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)\n\t... 23 more\n","logger_name":"com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.387231618+09:00","@version":"1","message":"Request execution failed with message: I/O error on GET request for \"http://localhost:10252/eureka/apps/\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨","logger_name":"com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:54.387855136+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1046)\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:961)\n\tat com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)\n\tat com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.395578513+09:00","@version":"1","message":"Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:10252/eureka/}, exception=I/O error on POST request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨 stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:87)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)\n\tat com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n\tat java.base/java.net.Socket.connect(Socket.java:751)\n\tat org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:216)\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n\tat org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)\n\tat org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)\n\tat org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$2(RestTemplateTransportClientFactory.java:145)\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)\n\t... 21 more\n","logger_name":"com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:48:54.396994546+09:00","@version":"1","message":"Request execution failed with message: I/O error on POST request for \"http://localhost:10252/eureka/apps/ANALYSIS-SERVICE\": Connect to http://localhost:10252 [localhost/127.0.0.1] failed: 연결이 거부됨","logger_name":"com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:48:54.400628096+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration failed Cannot execute request on any known server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"WARN","level_value":30000,"stack_trace":"com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)\n\tat com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:48:54.401467427+09:00","@version":"1","message":"There was a problem with the instance info replicator","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"WARN","level_value":30000,"stack_trace":"com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)\n\tat com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)\n\tat com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:49:24.377793676+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - Re-registering apps/ANALYSIS-SERVICE","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-HeartbeatExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.378026581+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-HeartbeatExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.383915312+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-HeartbeatExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388539335+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388671913+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388703832+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388727453+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388751143+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388783436+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.388806875+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:24.403624596+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.404691373+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.405157388+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.405224332+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.405268481+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.4053228+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.405361016+09:00","@version":"1","message":"Application version is -1: false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.405397579+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:49:54.423784917+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-CacheRefreshExecutor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:31.086360918+09:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:31.086591426+09:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:31.08756572+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:31.100121988+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"http-nio-10261-exec-1","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/analysis/members/101/threads.\n\tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)\n\tat org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:51:33.985950944+09:00","@version":"1","message":"\uD83D\uDCCC [쓰레드 생성] mbNo=101, title=asdasda","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:34.078094738+09:00","@version":"1","message":"새 쓰레드 생성 - threadId: 45, mbNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:34.136568983+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"http-nio-10261-exec-3","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/analysis/members/101/threads.\n\tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)\n\tat org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:51:37.058599867+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"http-nio-10261-exec-4","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/analysis/members/100/threads.\n\tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)\n\tat org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:51:49.828788601+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 531, threadId: 45","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:49.905437815+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=100, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:49.940022241+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 100","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:49.940971755+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: Cannot invoke \"org.springframework.web.client.RestTemplate.exchange(String, org.springframework.http.HttpMethod, org.springframework.http.HttpEntity, java.lang.Class, Object[])\" because \"this.restTemplate\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-6","level":"ERROR","level_value":40000,"stack_trace":"java.lang.NullPointerException: Cannot invoke \"org.springframework.web.client.RestTemplate.exchange(String, org.springframework.http.HttpMethod, org.springframework.http.HttpEntity, java.lang.Class, Object[])\" because \"this.restTemplate\" is null\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:67)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:38)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T14:51:49.989905238+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=223자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:51:50.064729177+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 532, threadId: 45","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.24150093+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.241866101+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747979571241, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.241999029+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.243324954+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.244756098+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.247122224+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.249099034+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.251649592+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.384774043+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:51.385372561+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:54.385957966+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:54.393235833+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:54.393451356+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:57.228215359+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:57.260276415+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 23628 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:57.260968149+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:57.622076039+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:57.792507602+09:00","@version":"1","message":"Finished Spring Data repository scanning in 165 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:57.920225849+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.150673796+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.157572465+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.158352692+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.158462349+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.185561945+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.18576277+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 898 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.271119613+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.634616348+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@21e39b82","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.635990487+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.657537772+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.681967425+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.699293245+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.841055746+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:58.956199051+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:59.466307625+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:59.468189514+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:59.663628204+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:59.706506851+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:52:59.736406187+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:53:00.010696276+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.035551133+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T14:53:00.074089495+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.085805506+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.087313799+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.090944563+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.091016436+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.091053481+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.091093868+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.091124104+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.091154217+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.091183783+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.214462587+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.215930907+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.217250752+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.218619807+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747979580218 with initial instances count: 5","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.222263862+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.222926658+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747979580222, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.224567712+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.224862788+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.239886113+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.240881338+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.25508459+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:53:00.263229636+09:00","@version":"1","message":"Started WorkAnalysisApplication in 3.493 seconds (process running for 3.904)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T14:58:00.092259658+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:03:00.093509918+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:08:00.094516602+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:13:00.095323837+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.60219292+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.60251715+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747980898602, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.602646119+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.604270953+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.606218772+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.609830343+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.609862599+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.61111882+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.782248681+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:14:58.782688085+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:01.783177479+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:01.783886398+09:00","@version":"1","message":"task supervisor shutting down, can't accept the task","logger_name":"com.netflix.discovery.TimedSupervisorTask","thread_name":"DiscoveryClient-%d","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:15:01.793237248+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:01.794177773+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:05.272738661+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:05.350479376+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 24992 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:05.351659894+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:05.918612783+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.042039917+09:00","@version":"1","message":"Finished Spring Data repository scanning in 118 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.161895507+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.41587745+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.422316322+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.423195786+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.423342536+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.449724763+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.449936875+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 1056 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.532858669+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.831487618+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6edd4fe2","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.833531966+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.873322217+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.906768579+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:06.925769747+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:07.148111264+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:07.259716173+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:07.892647084+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:07.894460397+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.119288134+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.170481715+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.204407629+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:15:08.503347276+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.537108946+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:15:08.584962287+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.601431826+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.603708824+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609070193+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609194082+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609255268+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609297847+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609337402+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609372354+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.609409782+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.785131173+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.787164988+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.789211547+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.79051083+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747980908789 with initial instances count: 6","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.79349382+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.793792508+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747980908793, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.794821264+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.794989702+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.804645147+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.805932674+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.823668598+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:15:08.827673515+09:00","@version":"1","message":"Started WorkAnalysisApplication in 4.103 seconds (process running for 4.66)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.235128436+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.235505612+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747981127235, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.235658411+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.237825341+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.239757422+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.240651688+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.244542583+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.246282354+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.387345+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:47.387813527+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:50.388798333+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:50.399687509+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:50.400505456+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:56.906352629+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:56.948038354+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 26206 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:56.948860905+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:57.684804452+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:57.968959064+09:00","@version":"1","message":"Finished Spring Data repository scanning in 271 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.169110392+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.4713687+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.479927962+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.480914666+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.481061994+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.51450446+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.514749496+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 1533 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:58.605209122+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.091707253+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53918b5e","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.093065605+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.116047904+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.141057335+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.157816617+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.293323197+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:18:59.381242623+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:00.051340352+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:00.053936767+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:00.503951486+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:00.601643633+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:00.670082184+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:19:01.138350573+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.175975676+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:19:01.234440168+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.25090295+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.25331585+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.258829875+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.25894518+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.259007282+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.259049361+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.25909138+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.259137063+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.259180745+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.416661412+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.417950081+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.419133229+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.420159906+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747981141419 with initial instances count: 5","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.422760447+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.423132455+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747981141423, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.424051127+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.424241106+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.432590421+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.433240988+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.463429517+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:01.613256552+09:00","@version":"1","message":"Started WorkAnalysisApplication in 5.423 seconds (process running for 6.343)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:02.537806366+09:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:02.537993905+09:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:02.538849873+09:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:02.556544392+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:04.05900012+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:17.580527891+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:17.608820052+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 533, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:17.617530903+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:25.300477614+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-4","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T15:19:25.339483881+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:25.412294534+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 534, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:54.282921273+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:19:57.449122237+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=45","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:20:00.205558219+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 요청] threadId=45","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:20:00.430900674+09:00","@version":"1","message":"쓰레드 삭제 완료 - threadId: 45","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:20:00.500646303+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 완료] threadId=45","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:20:01.411757207+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:20:02.150657924+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.406682025+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.406980267+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747981420406, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.407092191+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.408187058+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.409570465+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.411801281+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.413739796+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.41519055+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.56208863+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:40.562621296+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:43.563296668+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:43.567404288+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:43.5675693+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:51.715802907+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:51.753566642+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 27063 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:51.754137149+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.098069369+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.214879792+09:00","@version":"1","message":"Finished Spring Data repository scanning in 112 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.3389073+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.551477567+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.558127519+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.558931702+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.559054757+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.585527715+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.585716934+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 813 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.660714337+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.942221968+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6edd4fe2","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.94358611+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.966185135+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:52.990699577+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:53.00773355+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:53.13506311+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:53.221840106+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:53.742680913+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:53.745288702+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:53.98816273+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:54.08896749+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:54.17648487+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:23:55.190277236+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.274234661+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:23:55.396925096+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.425751684+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.429665989+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.437979517+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.438139504+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.438230122+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.438292687+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.438369067+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.438453313+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.438519921+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.726374189+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.730458871+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.73384607+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.73667366+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747981435735 with initial instances count: 6","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.744337707+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.745242739+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747981435745, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.747835553+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.748449068+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.770453415+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.771967429+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.817392091+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:23:55.86971295+09:00","@version":"1","message":"Started WorkAnalysisApplication in 4.519 seconds (process running for 4.996)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:05.769886747+09:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:05.770174251+09:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:05.771242796+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:05.788227491+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:07.92854202+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:14.587797192+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=이 사원의 결근 및 반차 데이터 그래프","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:14.645143875+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:14.673474421+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 535, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:14.810619217+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:20.697756161+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-4","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T15:24:20.74264314+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:20.759524327+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=❌ 시스템 오류: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:24:20.812447296+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 536, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:46.264226344+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:47.525744569+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:51.812833447+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=이 사원의 결근 및 반차 데이터 그래프","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:51.867328533+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 537, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:51.883881739+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:51.926278323+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:58.801824166+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-1","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T15:25:58.84678049+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:58.864979335+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=❌ 시스템 오류: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:25:58.91764449+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 538, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:08.190114729+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:09.238829919+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:16.099389715+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=이 사원의 결근 및 반차 데이터 그래프","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:16.154348119+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 539, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:16.203996733+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:16.232804871+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:22.10808679+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-8","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T15:28:22.145294246+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:22.169901905+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=❌ 시스템 오류: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:22.210806234+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 540, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:28:55.440713311+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:30.115191919+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:31.61911042+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:55.441684106+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:56.554428204+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:57.891324852+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:59.36096491+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=asdasdasdasda","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:59.400757232+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:59.41210079+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 541, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:33:59.443387946+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:34:03.766580098+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-7","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T15:34:03.812136011+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:34:03.824622352+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=❌ 시스템 오류: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:34:03.916737135+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 542, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:38:55.442473484+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:43:55.443123631+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:48:55.443900222+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:49:58.29170661+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:50:10.938064794+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.823876233+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.824223878+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747983130824, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.824382524+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.825986162+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.828005354+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.832387956+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.832836839+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.834135529+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.992950618+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:10.993439953+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:13.993938788+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:13.999020026+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:13.999490889+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:18.359507135+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:18.393117555+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 31337 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:18.39406618+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:18.846604937+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:18.964393484+09:00","@version":"1","message":"Finished Spring Data repository scanning in 112 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.084344601+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.296027496+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.303201958+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.304356147+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.304527249+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.330390951+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.330582968+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 903 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.403328893+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.718532696+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@21e39b82","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.71986691+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.742577246+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.766080975+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.781496252+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:19.911852502+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:20.000499641+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:20.508098803+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:20.50957784+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:20.722553811+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:20.766743855+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:20.798670749+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:52:21.109702614+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.1347514+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T15:52:21.176649361+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.198361624+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.200429879+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.20461027+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.204705855+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.204745843+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.204793132+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.204821785+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.204850729+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.204882956+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.331560125+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.332905479+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.334102705+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.33499263+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747983141334 with initial instances count: 6","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.336947471+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.337128625+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747983141337, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.338036087+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.338146281+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.345404006+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.345986949+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.35642003+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:21.367456845+09:00","@version":"1","message":"Started WorkAnalysisApplication in 3.61 seconds (process running for 4.243)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:25.397569221+09:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:25.397784349+09:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:25.398804646+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:25.41738256+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:26.491768365+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:30.859772039+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=이 사원의 결근 및 반차 데이터 그래프","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:30.900301714+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:30.960792637+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 543, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:30.963745155+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:38.229515031+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-4","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T15:52:38.27757434+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:38.292631388+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=❌ 시스템 오류: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:52:38.353793084+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 544, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T15:57:21.205886461+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.598663166+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.598907389+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747983600598, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.59909635+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.600374156+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.601735872+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.603550191+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.605787909+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.610960293+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.76621847+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:00.766924052+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:03.768635648+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:03.775341969+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:03.775779725+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:10.293825988+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:10.338312365+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 32568 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:10.339074609+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:10.812294633+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:10.97560366+09:00","@version":"1","message":"Finished Spring Data repository scanning in 156 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.137756712+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.505028945+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.517936345+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.519711424+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.519945741+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.563659584+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.563915544+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 1198 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:11.674046952+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.036220705+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@16ef1160","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.037951846+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.063931038+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.090743743+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.10827308+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.268103155+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.371018871+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.890860307+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:12.892611369+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.133458901+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.18250096+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.217389213+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T16:00:13.544535045+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.580151758+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T16:00:13.651127221+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.675626086+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.678357688+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.684336561+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.684487044+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.68456175+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.6846021+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.684643606+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.684684512+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.684729343+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.84145106+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.842830975+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.84397088+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.845057388+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747983613844 with initial instances count: 6","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.847553282+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.847782432+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747983613847, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.84874754+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.849000375+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.857487712+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.858244564+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.874450042+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:00:13.878161895+09:00","@version":"1","message":"Started WorkAnalysisApplication in 4.19 seconds (process running for 5.16)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:22.001573794+09:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:22.001841674+09:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:22.002823297+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:22.019922627+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:25.086231495+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:29.085202718+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=이 사원의 결근 및 반차 데이터 그래프","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:29.13488366+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:29.178872202+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 545, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:29.194804336+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:35.856424061+09:00","@version":"1","message":"❌ 예기치 못한 오류 발생: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-4","level":"ERROR","level_value":40000,"stack_trace":"java.lang.IllegalArgumentException: argument \"content\" is null\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:5086)\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3279)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.extractText(AiChatApiClient.java:101)\n\tat com.nhnacademy.workanalysis.adaptor.AiChatApiClient.call(AiChatApiClient.java:75)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl.analyze(AiChatServiceImpl.java:41)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)\n\tat com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl$$SpringCGLIB$$0.analyze(<generated>)\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:39)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n"}
{"@timestamp":"2025-05-23T16:01:35.900086359+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=36자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:35.918987776+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=❌ 시스템 오류: argument \"content\" is null","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:01:35.980715676+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 546, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:05:13.685994338+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.291531636+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.291763162+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747984066291, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.291967005+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.293188792+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.294645986+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.296163214+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.299191166+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.301152718+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.451374688+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:46.45181135+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:49.452768108+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:49.459879582+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:49.460908007+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:54.477171293+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:54.510998352+09:00","@version":"1","message":"Starting WorkAnalysisApplication using Java 21.0.7 with PID 33768 (/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:54.51163766+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.174679309+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.329290794+09:00","@version":"1","message":"Finished Spring Data repository scanning in 147 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.570385927+09:00","@version":"1","message":"BeanFactory id=14a3bc40-46c0-3e58-a867-ff5ef1ce9e71","logger_name":"org.springframework.cloud.context.scope.GenericScope","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.913395283+09:00","@version":"1","message":"Tomcat initialized with port 10261 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.920380992+09:00","@version":"1","message":"Initializing ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.921232282+09:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.92136533+09:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.39]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.949690574+09:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:55.949942149+09:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 1417 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.044014856+09:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.386088352+09:00","@version":"1","message":"HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67593f7b","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.387425094+09:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.408525791+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.43546064+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.451542182+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.593902543+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:56.685271752+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 8.0.41\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:57.15850969+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:57.159977239+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:57.389652884+09:00","@version":"1","message":"\uD83D\uDCE1 RestTemplate Bean 생성 시작 (타임아웃 설정 포함)","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:57.447826157+09:00","@version":"1","message":"✅ RestTemplate Bean 등록 완료","logger_name":"com.nhnacademy.workanalysis.config.RestTemplateConfig","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:57.486644851+09:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T16:07:58.041151406+09:00","@version":"1","message":"Eureka HTTP Client uses RestTemplate.","logger_name":"org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.11885853+09:00","@version":"1","message":"Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.","logger_name":"org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T16:07:58.215413891+09:00","@version":"1","message":"Setting initial instance status as: STARTING","logger_name":"org.springframework.cloud.netflix.eureka.InstanceInfoFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.239521734+09:00","@version":"1","message":"Initializing Eureka in region us-east-1","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.242018156+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248283731+09:00","@version":"1","message":"Disable delta property : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248455385+09:00","@version":"1","message":"Single vip registry refresh property : null","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248530218+09:00","@version":"1","message":"Force full registry fetch : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248587937+09:00","@version":"1","message":"Application is null : false","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248636464+09:00","@version":"1","message":"Registered Applications size is zero : true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248700922+09:00","@version":"1","message":"Application version is -1: true","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.248754861+09:00","@version":"1","message":"Getting all instance registry info from the eureka server","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.463209763+09:00","@version":"1","message":"The response status is 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.464566503+09:00","@version":"1","message":"Starting heartbeat executor: renew interval is: 30","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.465753959+09:00","@version":"1","message":"InstanceInfoReplicator onDemand update allowed rate per min is 4","logger_name":"com.netflix.discovery.InstanceInfoReplicator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.466868601+09:00","@version":"1","message":"Discovery Client initialized at timestamp 1747984078466 with initial instances count: 6","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.469573719+09:00","@version":"1","message":"Registering application ANALYSIS-SERVICE with eureka with status UP","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.46987365+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747984078469, current=UP, previous=STARTING]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.471579407+09:00","@version":"1","message":"Starting ProtocolHandler [\"http-nio-10261\"]","logger_name":"org.apache.coyote.http11.Http11NioProtocol","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.471722989+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.4807451+09:00","@version":"1","message":"Tomcat started on port 10261 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.481400762+09:00","@version":"1","message":"Updating port to 10261","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.501137519+09:00","@version":"1","message":"Started WorkAnalysisApplication in 4.615 seconds (process running for 5.465)","logger_name":"com.nhnacademy.workanalysis.WorkAnalysisApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:07:58.508299179+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:00.755388021+09:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:00.755674015+09:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:00.756648868+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:00.773875773+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:01.6809311+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:04.810191028+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=이 사원의 결근 및 반차 데이터 그래프","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:04.865605168+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:04.908392916+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 547, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:04.916103909+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:14.95406513+09:00","@version":"1","message":"✅ Gemini API 응답 수신 - 상태: 200 OK","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:15.004511275+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=2560자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:15.019980849+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=제공해주신 데이터를 바탕으로 결근 및 반차 데이터를 시각화하기 위한 그래프를 몇 가지 제안하고, 어떤 그래프가 적합한지 설명드리겠습니다.\n\n**1. 결근/반차 일수 막대 그래프:**\n\n*   **X축:** 날짜 (예: 2025-03-01, 2025-03-02, ...)\n*   **Y축:** 상태 (결근, 반차, 정상 출근)\n*   **내용:** 각 날짜별로 막대를 표시하고, 막대 색깔을 달리하여 결근, 반차, 정상 출근을 구분합니다. 예를 들어, 빨간색은 결근, 노란색은 반차, 녹색은 정상 출근으로 표시할 수 있습니다.\n\n**2. 결근/반차 추이선 그래프:**\n\n*   **X축:** 날짜 (예: 2025-03-01, 2025-03-02, ...)\n*   **Y축:** 근무 시간 (시간)\n*   **내용:** 각 날짜별 근무 시간을 점으로 표시하고, 점들을 선으로 연결하여 근무 시간 변화 추이를 보여줍니다. 정상 근무 시간보다 짧은 경우 (예: 4시간 이하) 반차 또는 결근으로 간주하고, 해당 날짜에 다른 색깔로 점을 표시하거나, 별도의 선으로 표시할 수 있습니다.\n\n**3. 월별 결근/반차 통계 원 그래프:**\n\n*   **내용:** 월별 결근/반차 일수를 계산하고, 각 항목이 전체에서 차지하는 비율을 원 그래프로 표시합니다.\n\n**어떤 그래프가 적합한가?**\n\n*   **전체적인 결근/반차 추이를 한눈에 파악하고 싶다면:** 추이선 그래프가 가장 적합합니다.\n*   **특정 날짜의 결근/반차 여부를 자세히 알고 싶다면:** 막대 그래프가 가장 적합합니다.\n*   **월별 결근/반차 비율을 비교하고 싶다면:** 원 그래프가 가장 적합합니다.\n\n**데이터 전처리:**\n\n1.  **결근/반차 판단:** 제공된 데이터를 바탕으로 근무시간이 0시간인 경우 '결근', 정상 근무 시간(8시간)보다 짧은 경우 '반차'로 간주할 수 있습니다.  정확한 반차 기준은 회사 정책에 따라 달라질 수 있습니다.\n\n2.  **날짜 형식 통일:** 모든 날짜 형식을 'YYYY-MM-DD'와 같이 통일합니다.\n\n3.  **데이터 집계:** 필요한 경우 월별, 주별 등 특정 기간별로 데이터를 집계합니다.\n\n**예시 (Python & Matplotlib):**\n\n```python\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# 데이터 (제공된 데이터를 기반으로 간단하게 만듦)\ndata = {'날짜': ['2025-03-01', '2025-03-02', '2025-03-03', '2025-03-04', '2025-03-05', '2025-03-06', '2025-03-07', '2025-03-08', '2025-03-09', '2025-03-10', '2025-05-12', '2025-05-13', '2025-05-14', '2025-05-15', '2025-05-16', '2025-05-21', '2025-05-22', '2025-05-23'],\n        '근무시간': [6, 0, 0, 0, 0, 9, 0, 6, 9, 0, 0, 12, 9, 11, 9, 0, 0, 0]}\n\ndf = pd.DataFrame(data)\ndf['날짜'] = pd.to_datetime(df['날짜']) # 날짜 형식으로 변환\ndf = df.set_index('날짜') # 날짜를 index로 설정\n\n# 결근/반차/정상 근무 상태 판단 (예시)\ndef check_status(work_hours):\n  if work_hours == 0:\n    return \"결근\"\n  elif work_hours < 8:\n    return \"반차\"\n  else:\n    return \"정상\"\n\ndf['상태'] = df['근무시간'].apply(check_status)\n\n# 막대 그래프 (예시)\nstatus_counts = df['상태'].value_counts()\n\nplt.figure(figsize=(8, 6))\nstatus_counts.plot(kind='bar', rot=0)\nplt.title('결근/반차 현황')\nplt.xlabel('상태')\nplt.ylabel('일수')\nplt.show()\n```\n\n이 코드는 pandas와 matplotlib 라이브러리를 사용하여 간단한 막대 그래프를 생성하는 방법을 보여줍니다.  실제 사용 시에는 데이터프레임의 `data` 부분을 실제 데이터로 변경해야 합니다.\n\n**추가적으로 고려할 점:**\n\n*   **정상 근무 시간:** 회사의 정책에 따라 정상 근무 시간이 다를 수 있으므로, 반차 기준을 정확하게 설정해야 합니다.\n*   **시각화 라이브러리:** Python의 Matplotlib, Seaborn, Plotly 등 다양한 시각화 라이브러리를 사용할 수 있습니다. 각 라이브러리마다 장단점이 있으므로, 데이터의 특성과 시각화 목적에 맞는 라이브러리를 선택하는 것이 좋습니다.\n*   **대시보드 구축:** 결근/반차 데이터를 주기적으로 업데이트하고, 여러 그래프를 함께 보여주는 대시보드를 구축하면 더욱 효과적으로 데이터를 관리하고 분석할 수 있습니다.  (예: Streamlit, Dash)\n\n이 답변이 도움이 되었기를 바랍니다.  추가적인 질문이 있다면 언제든지 물어보세요.\n","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:15.084148308+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 548, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:32.007759679+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=니취팔러마","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:32.058029112+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:32.08005599+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 549, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:32.108317956+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:35.588122623+09:00","@version":"1","message":"✅ Gemini API 응답 수신 - 상태: 200 OK","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:35.642124071+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=465자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:35.656794929+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=네, 근무 기록을 분석해 드리겠습니다.\n\n**3월 근무 시간 합계:** 130시간\n\n**5월 근무 시간 합계:** 68시간\n\n**전체 근무 시간 합계:** 198시간\n\n**특이사항:**\n\n*   3월에 비해 5월 근무일수가 적습니다.\n*   5월 12일은 출근/퇴근 시간이 2분으로 매우 짧습니다. 기록 오류 가능성이 있습니다.\n*   3월과 5월 모두 출근/퇴근 기록이 없는 날이 많습니다. 근무 누락 또는 기록 시스템의 오류를 의심해 볼 수 있습니다.\n*   5월 13일, 15일은 근무시간이 10시간을 초과합니다. 야간 근무 또는 추가 근무가 있었을 가능성이 있습니다.\n\n**추가적으로 확인해야 할 사항:**\n\n*   각 날짜별 근무 유형 (정규 근무, 휴가, 병가 등)\n*   출퇴근 기록이 없는 날에 대한 사유\n*   추가 근무 수당 지급 여부\n*   주휴 수당 및 연차 발생 여부\n\n이 정보가 도움이 되었기를 바랍니다.\n","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:08:35.719912484+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 550, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:05.086400885+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=user, content=package com.nhnacademy.workanalysis.adaptor;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse;\nimport com.nhnacademy.workanalysis.dto.MessageDto;\nimport com.nhnacademy.workanalysis.exception.TextNotFoundException;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.*;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.HttpStatusCodeException;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.UriComponentsBuilder;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n\n/**\n * Gemini API를 호출하는 클라이언트 컴포넌트입니다.\n * 멀티턴 대화 메시지를 기반으로 AI 분석 요청을 수행합니다.\n */\n@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class AiChatApiClient {\n\n    @Value(\"${gemini.api.key}\")\n    private String apiKey;\n\n    private final RestTemplate restTemplate = new RestTemplate();\n    private final ObjectMapper objectMapper=new ObjectMapper();\n\n    /**\n     * Gemini 2.0 Flash 모델을 이용하여 분석 요청을 수행합니다.\n     * 이전 대화 기록을 포함한 메시지 배열을 전달하며, 응답 결과를 파싱하여 반환합니다.\n     *\n     * @param messages 이전까지의 대화 이력 + 유저의 현재 질문\n     * @param memberNo 분석 대상 사원 번호\n     * @return GeminiAnalysisResponse 분석 응답 결과 (성공 또는 실패 메시지 포함)\n     * @see {기존 하드코딩 방식의 url 입력 방식에서 {@link UriComponentsBuilder}방식으로 변경 인코딩 오류 방지 및 가독성 증가}\n     */\n    public GeminiAnalysisResponse call(List<MessageDto> messages, Long memberNo) {\n        String url = UriComponentsBuilder\n                .fromUriString(\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent\")\n                .queryParam(\"key\", apiKey)\n                .build()\n                .toUriString();\n\n        List<Map<String, Object>> partsList = messages.stream()\n                .map(m -> Map.of(\"role\", m.getRole(), \"parts\", List.of(Map.of(\"text\", m.getContent()))))\n                .toList();\n\n        Map<String, Object> body = Map.of(\"contents\", partsList);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        HttpEntity<Map<String, Object>> entity = new HttpEntity<>(body, headers);\n\n        try {\n            ResponseEntity<String> response = restTemplate.exchange(\n                    url,\n                    HttpMethod.POST,\n                    entity,\n                    String.class\n            );\n\n            String json = response.getBody();\n            String text = extractText(json);\n\n            log.info(\"✅ Gemini API 응답 수신 - 상태: {}\", response.getStatusCode());\n            return new GeminiAnalysisResponse(memberNo, text);\n        } catch (HttpStatusCodeException e) {\n            log.error(\"❌ Gemini API 호출 실패 - HTTP 오류: {}\", e.getMessage(), e);\n            return new GeminiAnalysisResponse(memberNo, \"❌ Gemini 호출 실패 - 상태 코드: \" + e.getStatusCode());\n        } catch (TextNotFoundException e) {\n            log.error(\"❌ 분석 텍스트 누락 - {}\", e.getMessage());\n            return new GeminiAnalysisResponse(memberNo, \"❌ 분석 결과를 찾을 수 없습니다.\");\n        } catch (Throwable e) {\n            log.error(\"❌ 예기치 못한 오류 발생: {}\", e.getMessage(), e);\n            return new GeminiAnalysisResponse(memberNo, \"❌ 시스템 오류: \" + e.getMessage());\n        }\n    }\n\n\n    /**\n     * Gemini 응답 JSON에서 분석 결과 텍스트를 추출합니다.\n     * 예상 경로: /candidates/0/content/parts/0/text\n     *\n     * @param json Gemini API의 원시 JSON 응답 문자열\n     * @return 분석된 텍스트 결과\n     */\n    private String extractText(String json) {\n        try {\n            JsonNode root = objectMapper.readTree(json);\n            String text = root.at(\"/candidates/0/content/parts/0/text\").asText(null);\n            if (text == null) {\n                log.error(\"⚠️ 분석 결과 누락 - 응답에 텍스트 필드가 존재하지 않음\");\n                throw new TextNotFoundException(\"응답 JSON에 분석 결과 텍스트가 없습니다.\");\n            }\n            log.debug(\"\uD83D\uDCE6 Gemini 응답 텍스트 추출 성공\");\n            return text;\n        } catch (HttpStatusCodeException | JsonProcessingException e) {\n            log.warn(\"⚠️ Gemini 응답 파싱 실패: {}\", e.getMessage(), e);\n            return \"⚠️ 분석 결과 파싱 실패\";\n        }\n    }\n}\n\n\n로직 분석해줘","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:05.140849494+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=101, message count=2","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:05.162047249+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 551, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:05.199563245+09:00","@version":"1","message":"분석 요청 시작 - memberNo: 101","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:08.978744741+09:00","@version":"1","message":"✅ Gemini API 응답 수신 - 상태: 200 OK","logger_name":"com.nhnacademy.workanalysis.adaptor.AiChatApiClient","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:09.029035808+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=656자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:09.041283129+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=44, role=ai, content=알겠습니다. 제공해주신 근무 기록을 분석하여 다음과 같은 정보를 요약해 드리겠습니다.\n\n**3월 근무 요약:**\n\n*   총 근무 일수: 17일\n*   총 근무 시간: 116시간\n\n**5월 근무 요약:**\n\n*   총 근무 일수: 8일\n*   총 근무 시간: 59시간\n\n**전체 근무 요약:**\n\n*   총 근무 일수: 25일\n*   총 근무 시간: 175시간\n\n**특이사항:**\n\n*   3월에는 대부분 6시간, 8시간, 또는 9시간 근무를 했습니다.\n*   3월 2일부터 3월 5일, 3월 7일, 3월 10일, 3월 11일, 3월 16일, 3월 18일, 3월 23일부터 3월 25일, 3월 27일부터 3월 31일까지는 출근/퇴근 기록이 없습니다.\n*   5월 12일에는 2분 근무 기록이 있습니다.\n*   5월 13일, 5월 15일에는 11시간 이상 근무했습니다.\n*   5월 21일, 5월 22일, 5월 23일에는 출근/퇴근 기록이 없습니다.\n\n**추가 분석:**\n\n이 데이터만으로는 어떤 종류의 업무를 하는지, 정규 근무 시간은 어떻게 되는지 등을 알 수 없습니다. 추가적인 정보가 있다면 더 자세한 분석이 가능합니다. 예를 들어,\n\n*   주말 근무 여부\n*   휴가/결근 여부\n*   야근 빈도\n\n등의 정보를 추가하면 더 의미있는 분석 결과를 얻을 수 있습니다.","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:09.103977667+09:00","@version":"1","message":"히스토리 저장 완료 - historyId: 552, threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:28.880092083+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 요청] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:29.148760903+09:00","@version":"1","message":"쓰레드 삭제 완료 - threadId: 44","logger_name":"com.nhnacademy.workanalysis.service.impl.AiChatServiceImpl","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:29.653116139+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 완료] threadId=44","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:09:40.155086454+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=101","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"http-nio-10261-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:12:58.250350019+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:17:58.251472634+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:22:58.25219115+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:27:58.253021672+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:32:58.253608324+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:37:58.25408198+09:00","@version":"1","message":"Resolving eureka endpoints via configuration","logger_name":"com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver","thread_name":"AsyncResolver-bootstrap-executor-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.960921096+09:00","@version":"1","message":"Unregistering application ANALYSIS-SERVICE with eureka with status DOWN","logger_name":"org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.961270672+09:00","@version":"1","message":"Saw local status change event StatusChangeEvent [timestamp=1747986154961, current=DOWN, previous=UP]","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.961483989+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261: registering service...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.963398048+09:00","@version":"1","message":"Commencing graceful shutdown. Waiting for active requests to complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.964985676+09:00","@version":"1","message":"Graceful shutdown complete","logger_name":"org.springframework.boot.web.embedded.tomcat.GracefulShutdown","thread_name":"tomcat-shutdown","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.968638339+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - registration status: 204","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"DiscoveryClient-InstanceInfoReplicator-%d","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.969898225+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:34.971127169+09:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:35.112773275+09:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:35.113318758+09:00","@version":"1","message":"Shutting down DiscoveryClient ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:38.121838095+09:00","@version":"1","message":"Unregistering ...","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:38.125800009+09:00","@version":"1","message":"DiscoveryClient_ANALYSIS-SERVICE/atgn02-006-kms:analysis-service:10261 - deregister  status: 200","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:42:38.126002383+09:00","@version":"1","message":"Completed shut down of DiscoveryClient","logger_name":"com.netflix.discovery.DiscoveryClient","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:10.555011988+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:10.634797976+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 37606 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:10.636350327+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.727413741+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.728025364+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.729107304+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.754743895+09:00","@version":"1","message":"Started AnalysisControllerTest in 2.892 seconds (process running for 4.824)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.807473235+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.807675387+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.808237457+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.923991817+09:00","@version":"1","message":"✏️ [쓰레드 제목 수정] threadId=10, title=수정된 제목","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.998266604+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.998489347+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:12.998729617+09:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.117180605+09:00","@version":"1","message":"\uD83D\uDCCC [쓰레드 생성] mbNo=1, title=테스트 쓰레드","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.189291439+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.189513981+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.189747864+09:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.191660861+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 요청] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.192090931+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 완료] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.212583594+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.212791646+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.213012471+09:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.229342411+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=1, message count=1","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.229796032+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=6자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.245189522+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.2453661+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.24554+09:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.254296665+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=10, role=user, content=내용","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.271065499+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.271262758+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.271499873+09:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.273806185+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=123","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.294664416+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.mock.web.MockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.294844467+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.29502514+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:13.297068487+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=10","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:47.767514903+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:47.806800433+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 37768 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:47.807899353+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.464215211+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.464722799+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.465696858+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.486209977+09:00","@version":"1","message":"Started AnalysisControllerTest in 2.083 seconds (process running for 3.076)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.582163895+09:00","@version":"1","message":"✏️ [쓰레드 제목 수정] threadId=10, title=수정된 제목","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.686111924+09:00","@version":"1","message":"\uD83D\uDCCC [쓰레드 생성] mbNo=1, title=테스트 쓰레드","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.720901345+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 요청] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.72124011+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 완료] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.735877492+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=1, message count=1","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.736239138+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=6자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.749296958+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=10, role=user, content=내용","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.758318352+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=123","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T16:52:49.768331726+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=10","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:06.477656044+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:06.527864376+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 39702 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:06.528882097+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:07.976954504+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:07.977747667+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:07.97867621+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:07.995875729+09:00","@version":"1","message":"Started AnalysisControllerTest in 1.914 seconds (process running for 3.023)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.07435783+09:00","@version":"1","message":"✏️ [쓰레드 제목 수정] threadId=10, title=수정된 제목","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.132599596+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=null, message count=1","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.143011738+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"ERROR","level_value":40000,"stack_trace":"java.lang.NullPointerException: Cannot invoke \"com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse.getFullText()\" because \"result\" is null\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:40)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n\tat com.nhnacademy.workanalysis.controller.AnalysisControllerTest.analyzeWithPrompt_missingField(AnalysisControllerTest.java:65)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:767)\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$8(TestMethodTestDescriptor.java:217)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n"}
{"@timestamp":"2025-05-23T17:07:08.20032979+09:00","@version":"1","message":"\uD83D\uDCCC [쓰레드 생성] mbNo=1, title=테스트 쓰레드","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.226671927+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 요청] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.226929906+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 완료] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.236138973+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/octet-stream' is not supported\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:236)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n\tat com.nhnacademy.workanalysis.controller.AnalysisControllerTest.analyzeWithPrompt_unsupportedMediaType(AnalysisControllerTest.java:55)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:767)\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$8(TestMethodTestDescriptor.java:217)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n"}
{"@timestamp":"2025-05-23T17:07:08.257562247+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.AiChatHistoryDto> com.nhnacademy.workanalysis.controller.AnalysisController.saveMessage(com.nhnacademy.workanalysis.dto.AiChatHistorySaveRequest): [Field error in object 'aiChatHistorySaveRequest' on field 'content': rejected value [null]; codes [NotBlank.aiChatHistorySaveRequest.content,NotBlank.content,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [aiChatHistorySaveRequest.content,content]; arguments []; default message [content]]; default message [f메시지 내용은 필수입니다.]] \n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:159)\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n\tat com.nhnacademy.workanalysis.controller.AnalysisControllerTest.saveMessage_missingField_shouldReturn400(AnalysisControllerTest.java:143)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:767)\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$8(TestMethodTestDescriptor.java:217)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n"}
{"@timestamp":"2025-05-23T17:07:08.26645084+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=1, message count=1","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.266746991+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=9자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.27452755+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=10, role=user, content=내용","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.282175067+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=123","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:07:08.289965235+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=10","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:40.465356683+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:40.509392108+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 40933 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:40.510282301+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:42.26016207+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:42.260724537+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:42.261761674+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:42.283407773+09:00","@version":"1","message":"Started AnalysisControllerTest in 2.503 seconds (process running for 4.443)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:51.369269788+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:51.417014679+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 41076 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:51.417943536+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:53.312118599+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:53.31284373+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:53.31435413+09:00","@version":"1","message":"Completed initialization in 2 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:53.347511996+09:00","@version":"1","message":"Started AnalysisControllerTest in 2.633 seconds (process running for 4.742)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:53.494875775+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=null, message count=1","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:19:53.505490914+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"ERROR","level_value":40000,"stack_trace":"java.lang.NullPointerException: Cannot invoke \"com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse.getFullText()\" because \"result\" is null\n\tat com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(AnalysisController.java:40)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n\tat com.nhnacademy.workanalysis.controller.AnalysisControllerTest.analyzeWithPrompt_missingField(AnalysisControllerTest.java:65)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:767)\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$8(TestMethodTestDescriptor.java:217)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n"}
{"@timestamp":"2025-05-23T17:22:33.258571136+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:33.300568098+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 41500 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:33.301482846+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:35.570675675+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:35.57105114+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:35.572743792+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:35.602868964+09:00","@version":"1","message":"Started AnalysisControllerTest in 3.007 seconds (process running for 4.899)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:22:35.890149033+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse> com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest): [Field error in object 'geminiAnalysisRequest' on field 'memberNo': rejected value [null]; codes [NotNull.geminiAnalysisRequest.memberNo,NotNull.memberNo,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [geminiAnalysisRequest.memberNo,memberNo]; arguments []; default message [memberNo]]; default message [must not be null]] \n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:159)\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n\tat com.nhnacademy.workanalysis.controller.AnalysisControllerTest.analyzeWithPrompt_missingField(AnalysisControllerTest.java:65)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:767)\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$8(TestMethodTestDescriptor.java:217)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n"}
{"@timestamp":"2025-05-23T17:23:52.550614235+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:52.595450726+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 41900 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:52.596476255+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:54.382537288+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:54.383109469+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:54.384109958+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:54.404761935+09:00","@version":"1","message":"Started AnalysisControllerTest in 2.532 seconds (process running for 4.358)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:23:54.554842905+09:00","@version":"1","message":"Unhandled Exception 발생","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse> com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest): [Field error in object 'geminiAnalysisRequest' on field 'memberNo': rejected value [null]; codes [NotNull.geminiAnalysisRequest.memberNo,NotNull.memberNo,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [geminiAnalysisRequest.memberNo,memberNo]; arguments []; default message [memberNo]]; default message [memberNo는 필수입니다.]] \n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:159)\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n\tat com.nhnacademy.workanalysis.controller.AnalysisControllerTest.analyzeWithPrompt_missingField(AnalysisControllerTest.java:65)\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:767)\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$8(TestMethodTestDescriptor.java:217)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n"}
{"@timestamp":"2025-05-23T17:37:17.874786471+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:17.902018545+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 43177 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:17.902611602+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:19.14452616+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:19.144907244+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:19.145620884+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:19.160677986+09:00","@version":"1","message":"Started AnalysisControllerTest in 1.706 seconds (process running for 2.679)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:19.281861193+09:00","@version":"1","message":"❌ 유효성 검사 실패: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse> com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest): [Field error in object 'geminiAnalysisRequest' on field 'memberNo': rejected value [null]; codes [NotNull.geminiAnalysisRequest.memberNo,NotNull.memberNo,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [geminiAnalysisRequest.memberNo,memberNo]; arguments []; default message [memberNo]]; default message [memberNo는 필수입니다.]] ","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T17:37:28.254434648+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:28.286289966+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 43301 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:28.287186059+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:29.509109912+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:29.509720226+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:29.510815201+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:29.536755904+09:00","@version":"1","message":"Started AnalysisControllerTest in 1.71 seconds (process running for 2.618)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:29.688231627+09:00","@version":"1","message":"❌ 유효성 검사 실패: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.AiChatHistoryDto> com.nhnacademy.workanalysis.controller.AnalysisController.saveMessage(com.nhnacademy.workanalysis.dto.AiChatHistorySaveRequest): [Field error in object 'aiChatHistorySaveRequest' on field 'content': rejected value [null]; codes [NotBlank.aiChatHistorySaveRequest.content,NotBlank.content,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [aiChatHistorySaveRequest.content,content]; arguments []; default message [content]]; default message [f메시지 내용은 필수입니다.]] ","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T17:37:36.556565765+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:36.598245305+09:00","@version":"1","message":"Starting AnalysisControllerTest using Java 21.0.7 with PID 43421 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:36.59928053+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.311386929+09:00","@version":"1","message":"Initializing Spring TestDispatcherServlet ''","logger_name":"org.springframework.boot.test.mock.web.SpringBootMockServletContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.312001911+09:00","@version":"1","message":"Initializing Servlet ''","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.313100876+09:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.test.web.servlet.TestDispatcherServlet","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.336252991+09:00","@version":"1","message":"Started AnalysisControllerTest in 2.48 seconds (process running for 4.217)","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisControllerTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.435146519+09:00","@version":"1","message":"✏️ [쓰레드 제목 수정] threadId=10, title=수정된 제목","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.556829177+09:00","@version":"1","message":"❌ 유효성 검사 실패: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.GeminiAnalysisResponse> com.nhnacademy.workanalysis.controller.AnalysisController.analyzeWithPrompt(com.nhnacademy.workanalysis.dto.GeminiAnalysisRequest): [Field error in object 'geminiAnalysisRequest' on field 'memberNo': rejected value [null]; codes [NotNull.geminiAnalysisRequest.memberNo,NotNull.memberNo,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [geminiAnalysisRequest.memberNo,memberNo]; arguments []; default message [memberNo]]; default message [memberNo는 필수입니다.]] ","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T17:37:38.5874331+09:00","@version":"1","message":"\uD83D\uDCCC [쓰레드 생성] mbNo=1, title=테스트 쓰레드","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.624716395+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 요청] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.625120325+09:00","@version":"1","message":"\uD83D\uDDD1️ [쓰레드 삭제 완료] threadId=99","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.654253632+09:00","@version":"1","message":"❌ 유효성 검사 실패: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.nhnacademy.workanalysis.dto.AiChatHistoryDto> com.nhnacademy.workanalysis.controller.AnalysisController.saveMessage(com.nhnacademy.workanalysis.dto.AiChatHistorySaveRequest): [Field error in object 'aiChatHistorySaveRequest' on field 'content': rejected value [null]; codes [NotBlank.aiChatHistorySaveRequest.content,NotBlank.content,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [aiChatHistorySaveRequest.content,content]; arguments []; default message [content]]; default message [f메시지 내용은 필수입니다.]] ","logger_name":"com.nhnacademy.workanalysis.exception.GlobalAdviceHandler","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T17:37:38.663223411+09:00","@version":"1","message":"\uD83D\uDD0D [분석 요청] mbNo=1, message count=1","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.663645782+09:00","@version":"1","message":"✅ [분석 완료] 응답 길이=9자","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.674132242+09:00","@version":"1","message":"\uD83D\uDCAC [요청 파라미터] threadId=10, role=user, content=내용","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.684683141+09:00","@version":"1","message":"\uD83D\uDCCB [쓰레드 목록 조회] mbNo=123","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:37:38.695480526+09:00","@version":"1","message":"\uD83D\uDCDC [히스토리 조회] threadId=10","logger_name":"com.nhnacademy.workanalysis.controller.AnalysisController","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:08.654711833+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:08.689618892+09:00","@version":"1","message":"Starting AiChatThreadRepositoryTest using Java 21.0.7 with PID 44877 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.repository.AiChatThreadRepositoryTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:08.690637114+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.repository.AiChatThreadRepositoryTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:08.992038787+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.140927426+09:00","@version":"1","message":"Finished Spring Data repository scanning in 143 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.195462258+09:00","@version":"1","message":"Replacing 'dataSource' DataSource bean with embedded version","logger_name":"org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.275446379+09:00","@version":"1","message":"Starting embedded database: url='jdbc:h2:mem:b03e12e9-dd84-4558-a7df-793a6eb96835;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'","logger_name":"org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.497893889+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.547690309+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.577208248+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.719151822+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:09.790007922+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@4f552aa2']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 2.3.232\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:10.274828455+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:10.304639641+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:10.345972915+09:00","@version":"1","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'aiChatHistoryRepositoryImpl' defined in file [/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes/com/nhnacademy/workanalysis/repository/custom/impl/AiChatHistoryRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","logger_name":"org.springframework.context.annotation.AnnotationConfigApplicationContext","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T17:49:10.346657175+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:10.35479936+09:00","@version":"1","message":"\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","logger_name":"org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:49:10.382912827+09:00","@version":"1","message":"\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.nhnacademy.workanalysis.repository.custom.impl.AiChatHistoryRepositoryImpl required a bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' in your configuration.\n","logger_name":"org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter","thread_name":"main","level":"ERROR","level_value":40000}
{"@timestamp":"2025-05-23T17:49:10.3862161+09:00","@version":"1","message":"Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.nhnacademy.workanalysis.repository.AiChatThreadRepositoryTest@677274e7]","logger_name":"org.springframework.test.context.TestContextManager","thread_name":"main","level":"WARN","level_value":30000,"stack_trace":"java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@48d14ea0 testClass = com.nhnacademy.workanalysis.repository.AiChatThreadRepositoryTest, locations = [], classes = [com.nhnacademy.workanalysis.WorkAnalysisApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = [\"org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@21251e43 key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1130520d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@895e367, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@24c4ddae, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b7fdc8, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@28b46423, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@161f4660, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4167d97b, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f7f551d4], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:155)\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'aiChatHistoryRepositoryImpl' defined in file [/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes/com/nhnacademy/workanalysis/repository/custom/impl/AiChatHistoryRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)\n\t... 74 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2207)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1630)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\t... 100 common frames omitted\n"}
{"@timestamp":"2025-05-23T17:51:32.920334741+09:00","@version":"1","message":"HV000001: Hibernate Validator 8.0.2.Final","logger_name":"org.hibernate.validator.internal.util.Version","thread_name":"background-preinit","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:32.946982225+09:00","@version":"1","message":"Starting AiChatHistoryRepositoryTest using Java 21.0.7 with PID 45621 (started by nhnacademy in /home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service)","logger_name":"com.nhnacademy.workanalysis.repository.AiChatHistoryRepositoryTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:32.947595583+09:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.nhnacademy.workanalysis.repository.AiChatHistoryRepositoryTest","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.226192983+09:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.349091647+09:00","@version":"1","message":"Finished Spring Data repository scanning in 117 ms. Found 2 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.379970074+09:00","@version":"1","message":"Replacing 'dataSource' DataSource bean with embedded version","logger_name":"org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.460097831+09:00","@version":"1","message":"Starting embedded database: url='jdbc:h2:mem:3693bb43-e8e8-4431-92b4-d0c5c2f7c9da;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'","logger_name":"org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.728653+09:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.766006621+09:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.6.11.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:33.790780947+09:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.000256395+09:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.069454858+09:00","@version":"1","message":"HHH10001005: Database info:\n\tDatabase JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@2591d23a']\n\tDatabase driver: undefined/unknown\n\tDatabase version: 2.3.232\n\tAutocommit mode: undefined/unknown\n\tIsolation level: undefined/unknown\n\tMinimum pool size: undefined/unknown\n\tMaximum pool size: undefined/unknown","logger_name":"org.hibernate.orm.connections.pooling","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.781398323+09:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.820169012+09:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.871987567+09:00","@version":"1","message":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'aiChatThreadRepositoryImpl' defined in file [/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes/com/nhnacademy/workanalysis/repository/custom/impl/AiChatThreadRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","logger_name":"org.springframework.context.annotation.AnnotationConfigApplicationContext","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-05-23T17:51:34.872836331+09:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.883564261+09:00","@version":"1","message":"\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.","logger_name":"org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-05-23T17:51:34.90438647+09:00","@version":"1","message":"\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.nhnacademy.workanalysis.repository.custom.impl.AiChatThreadRepositoryImpl required a bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' in your configuration.\n","logger_name":"org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter","thread_name":"main","level":"ERROR","level_value":40000}
{"@timestamp":"2025-05-23T17:51:34.907710111+09:00","@version":"1","message":"Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.nhnacademy.workanalysis.repository.AiChatHistoryRepositoryTest@42684d86]","logger_name":"org.springframework.test.context.TestContextManager","thread_name":"main","level":"WARN","level_value":30000,"stack_trace":"java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@ad6448e testClass = com.nhnacademy.workanalysis.repository.AiChatHistoryRepositoryTest, locations = [], classes = [com.nhnacademy.workanalysis.WorkAnalysisApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = [\"org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true\"], contextCustomizers = [[ImportsContextCustomizer@3da6950f key = [org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcClientAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@478db956, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@51bd8b5c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@13bc8645, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@cd1e646, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@2bec854f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@34be3d80, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@9a530c8b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4dd6fd0a, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@77938f2f], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:155)\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'aiChatThreadRepositoryImpl' defined in file [/home/nhnacademy/바탕화면/aiot_02_pangyo_coffee_legend/analysis-service/target/classes/com/nhnacademy/workanalysis/repository/custom/impl/AiChatThreadRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)\n\t... 74 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.querydsl.jpa.impl.JPAQueryFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2207)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1630)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\t... 100 common frames omitted\n"}
